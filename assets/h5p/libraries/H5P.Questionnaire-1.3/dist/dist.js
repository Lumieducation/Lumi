(()=>{var e={831:(e,t,r)=>{"use strict";function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}r.d(t,{A:()=>E});var i=function(e){var t,r;function i(t,r){var n,i=t.successScreenImage,s=void 0===i?{}:i,a=t.successMessage,o=void 0===a?"":a;(n=e.call(this)||this).wrapper=document.createElement("div"),n.wrapper.className="h5p-questionnaire-success",n.wrapper.setAttribute("tabindex","-1"),n.wrapper.classList.add("hide");var u=document.createElement("div");u.className="h5p-questionnaire-success-center",n.wrapper.appendChild(u);var c=document.createElement("div");c.className="h5p-questionnaire-success-icon",s.params&&s.params.file?(c.classList.add("image"),H5P.newRunnable(s,r.contentId,H5P.jQuery(c),void 0,{parent:r}).on("loaded",(function(){n.trigger("imageLoaded")}))):c.classList.add("standard-icon");var d=document.createElement("div");return d.className="h5p-questionnaire-success-message",d.innerHTML=o,u.appendChild(c),u.appendChild(d),n.show=function(){this.wrapper.classList.remove("hide"),this.wrapper.focus()},n}return r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,n(t,r),i.prototype.attachTo=function(e){e.appendChild(this.wrapper)},i}(H5P.EventDispatcher),s=function(){function e(){}return e.createButton=function(t,r,n){var i=e.createElement("button",{className:"h5p-questionnaire-button "+r,type:"button",innerHTML:t});return n&&i.addEventListener("click",(function(){n.trigger(r)})),i},e.createElement=function(e,t){var r=document.createElement(e);return Object.keys(t).forEach((function(e){r[e]=t[e]})),r},e.createDiv=function(t){return e.createElement("div",t)},e}();function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}var u=function(e){var t,r;function n(t){var r,n=t.title,i=t.subtitle,o=t.backLabel,u=t.submitLabel;return(r=e.call(this)||this).wrapper=s.createDiv({className:"h5p-questionnaire-submit-screen hide"}),r.wrapper.setAttribute("tabindex","-1"),r.wrapper.appendChild(s.createDiv({className:"h5p-questionnaire-submit-screen-title",innerHTML:n})),r.wrapper.appendChild(s.createDiv({className:"h5p-questionnaire-submit-screen-subtitle",innerHTML:i})),r.wrapper.appendChild(s.createButton(o,"previous",a(r))),r.wrapper.appendChild(s.createButton(u,"submit",a(r))),r.show=function(){this.wrapper.classList.remove("hide"),this.wrapper.focus()},r.hide=function(){this.wrapper.classList.add("hide")},r}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,o(t,r),n.prototype.attachTo=function(e){e.appendChild(this.wrapper)},n}(H5P.EventDispatcher);function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}var d=function(e){var t,r;function n(t){var r;(r=e.call(this)||this).requiredElement=document.createElement("div"),r.requiredElement.classList.add("h5p-questionnaire-choice-required"),r.requiredElement.classList.add("hide"),r.requiredMessage=document.createElement("div"),r.requiredMessage.innerHTML=t.requiredMessage,r.requiredMessage.className="h5p-questionnaire-choice-required-message",r.requiredMessage.setAttribute("role","alert");var n=document.createElement("button");return n.className="h5p-questionnaire-choice-required-exit",n.setAttribute("aria-label",t.accessibility.requiredTextExitLabel),n.addEventListener("click",(function(){r.hideMessage()})),r.on("hideMessage",(function(){r.hideMessage()})),r.on("showMessage",(function(){r.showMessage()})),r.requiredElement.appendChild(r.requiredMessage),r.requiredElement.appendChild(n),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,c(t,r);var i=n.prototype;return i.showMessage=function(){this.requiredElement.classList.remove("hide")},i.hideMessage=function(){this.requiredElement.classList.add("hide")},i.attachTo=function(e){e.appendChild(this.requiredElement)},n}(H5P.EventDispatcher);function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}var l=function(e){var t,r;function n(t){var r;return(r=e.call(this)||this).footerWrapper=document.createElement("div"),r.footerWrapper.className="h5p-questionnaire-footer",r.footerWrapper.appendChild(r.createButton(t.prevLabel,"previous")),r.footerWrapper.appendChild(r.createButton(t.nextLabel,"next")),r.footerWrapper.appendChild(r.createButton(t.continueLabel,"next","continue")),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,h(t,r);var i=n.prototype;return i.setForwardNavigationButton=function(e){this.trigger("disable-next"),this.trigger("disable-continue"),this.trigger("enable-"+e)},i.createButton=function(e,t,r){var n=s.createButton(e,t,this);return this.on("enable-"+(r||t),(function(){n.classList.remove("disable")})),this.on("disable-"+(r||t),(function(){n.classList.add("disable")})),n},i.hide=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.footerWrapper.classList[e?"add":"remove"]("hide")},i.attachTo=function(e){e.appendChild(this.footerWrapper)},n}(H5P.EventDispatcher),p=function(){function e(e,t){this.numberWidget=document.createElement("div"),this.numberWidget.className="h5p-questionnaire-progress-bar-widget",this.numberWidget.setAttribute("aria-hidden","true"),this.currentIndex=document.createElement("div"),this.currentIndex.className="h5p-questionnaire-progress-bar-widget-current",this.currentIndex.textContent=e;var r=document.createElement("div");r.className="h5p-questionnaire-progress-bar-widget-separator",r.textContent="/";var n=document.createElement("div");n.className="h5p-questionnaire-progress-bar-widget-max",n.textContent=t,this.numberWidget.appendChild(this.currentIndex),this.numberWidget.appendChild(r),this.numberWidget.appendChild(n)}var t=e.prototype;return t.setCurrentIndex=function(e){this.currentIndex.textContent=e},t.attachTo=function(e){e.appendChild(this.numberWidget)},e}(),f=function(){function e(e){var t=e.currentIndex,r=e.maxIndex,n=e.uiElements;this.maxIndex=r,this.uiElements=n,this.progressBar=document.createElement("div"),this.progressBar.className="h5p-questionnaire-progress-bar",this.progressBar.setAttribute("tabindex","-1"),this.progressBar.setAttribute("role","progressbar"),this.progressBar.setAttribute("aria-valuemin","0"),this.progressBar.setAttribute("aria-valuemax",r),this.updateAriaValues(t),this.currentProgress=document.createElement("div"),this.currentProgress.className="h5p-questionnaire-progress-bar-current",this.numberWidget=new p(t,r),this.move(t),this.progressBar.appendChild(this.currentProgress)}var t=e.prototype;return t.updateAriaValues=function(e){this.progressBar.setAttribute("aria-valuenow",e),this.progressBar.setAttribute("aria-valuetext",this.uiElements.accessibility.progressBarText.replace("%current",e).replace("%max",this.maxIndex))},t.move=function(e){this.numberWidget.setCurrentIndex(e),this.currentProgress.style.width="".concat(e/this.maxIndex*100,"%"),this.updateAriaValues(e),this.progressBar.focus()},t.hide=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.progressBar.classList[e?"add":"remove"]("hide")},t.attachNumberWidgetTo=function(e){this.numberWidget.attachTo(e)},t.attachTo=function(e){e.appendChild(this.progressBar)},e}();function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}var v=function(e){var t,r;function n(t){var r,n=t.progressBar,i=t.params,s=t.contentId,a=t.requiredField,o=(t.index,t.uiElements);return(r=e.call(this)||this).progressBar=n,r.questionnaireElement=document.createElement("div"),r.questionnaireElement.className="h5p-questionnaire-element hide",r.instance=H5P.newRunnable(i,s,H5P.jQuery(r.questionnaireElement),void 0,{parent:g(r)}),r.requiredField=a,r.answered=i.userDatas&&i.userDatas.state&&i.userDatas.state.length,r.attachRequiredField(a,o),r.instance.on("xAPI",r.handleInteraction.bind(g(r))),r.instance.on("allow-finish-changed",r.trigger.bind(g(r))),r.instance.on("changed",r.trigger.bind(g(r))),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,b(t,r);var i,s,a=n.prototype;return a.attachRequiredField=function(e,t){if(e){var r=this.questionnaireElement.querySelector(".h5p-subcontent-question");this.questionnaireElement.classList.add("h5p-questionnaire-required");var n=document.createElement("div");n.innerHTML="* "+t.requiredText,n.className="h5p-questionnaire-required-symbol",r&&r.insertBefore(n,r.firstChild)}},a.handleInteraction=function(e){if("http://adlnet.gov/expapi/verbs/interacted"===e.data.statement.verb.id){var t=e.data.statement.result.response;t.trim&&(t=t.trim()),this.answered=!!t.length,this.trigger("handledInteraction")}},a.allowFinish=function(){return void 0!==this.instance.allowFinish?this.instance.allowFinish():n.AllowFinish.ALWAYS},a.finish=function(){if(this.instance.finish)return this.instance.finish()},a.resetTask=function(){"function"==typeof this.instance.resetTask&&this.instance.resetTask()},a.getCurrentState=function(){return this.instance.getCurrentState?this.instance.getCurrentState():null},a.getElement=function(){return this.questionnaireElement},a.isRequired=function(){return this.requiredField},a.isAnswered=function(){return this.answered},a.hide=function(e){this.questionnaireElement.classList[e?"add":"remove"]("hide")},a.setActivityStarted=function(){this.instance.setActivityStarted&&this.instance.setActivityStarted()},i=n,s=[{key:"AllowFinish",get:function(){return{ALWAYS:0,DENY:1,ALLOW:2}}}],null&&m(i.prototype,null),s&&m(i,s),Object.defineProperty(i,"prototype",{writable:!1}),n}(H5P.EventDispatcher);function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q.apply(this,arguments)}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}var E=function(e){var t,r;function n(t){var r,n=t.questionnaireElements,s=void 0===n?[]:n,a=t.successScreenOptions,o=void 0===a?{}:a,c=t.uiElements,h=void 0===c?{}:c,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(r=e.call(this)||this).contentId=p,r.state={questionnaireElements:[],currentIndex:0},h=H5P.jQuery.extend(!0,{buttonLabels:{prevLabel:"Back",nextLabel:"Next",submitLabel:"Submit",continueLabel:"Continue"},accessibility:{requiredTextExitLabel:"Close error message",progressBarText:"Question %current of %max"},requiredMessage:"This question requires an answer",requiredText:"required",submitScreenTitle:"You successfully answered all of the questions",submitScreenSubtitle:"Click below to submit your answers"},h),r.createQuestionnaireBody=function(){var e=this,t=document.createElement("div");return t.className="h5p-questionnaire-content",s.forEach((function(r,n){var i=r.requiredField,s=r.library;if("object"===y(s)&&s.library){var a=e.createQuestionContent(i,s,n);t.appendChild(a.getElement()),e.state.questionnaireElements.push(a)}})),this.createSubmitScreen().attachTo(t),o.enableSuccessScreen&&this.createSuccessScreen().attachTo(t),t},r.createQuestionContent=function(e,t,r){var n=this,i=new v({progressBar:this.progressBar,params:t,contentId:this.contentId,requiredField:e,index:r,uiElements:h});return i.on("handledInteraction",(function(){n.trigger("resize"),n.requiredMessage.trigger("hideMessage"),n.triggerXAPI("interacted")})),i.on("allow-finish-changed",(function(){n.setForwardNavigationButton(n.state.currentIndex)})),i.on("changed",(function(){n.requiredMessage.trigger("hideMessage")})),i},r.createQuestionnaire=function(){var e=document.createElement("div");if(e.className="h5p-questionnaire",1===s.length&&!s[0].library)return e.classList.add("h5p-invalid-questionnaire"),e.textContent="Invalid content",e;this.createProgressBar(s).attachTo(e);var t=this.createQuestionnaireBody();return e.appendChild(t),this.requiredMessage=new d(h),this.requiredMessage.attachTo(e),this.createFooter().attachTo(e),this.state.questionnaireElements.length&&this.state.questionnaireElements[0].setActivityStarted(),this.state.finished?o.enableSuccessScreen?this.showSuccessScreen():this.showSubmitScreen():this.move(this.state.currentIndex,this.state.currentIndex>0),e},r.createSubmitScreen=function(){var e=this;return this.submitScreen=new u({title:h.submitScreenTitle,subtitle:h.submitScreenSubtitle,backLabel:h.buttonLabels.prevLabel,submitLabel:h.buttonLabels.submitLabel}),this.submitScreen.on("submit",this.handleSubmit.bind(this)),this.submitScreen.on("previous",(function(){e.submitScreen.hide(),e.hideQuestion(!1),e.trigger("resize")})),this.submitScreen},r.hideQuestion=function(e){this.state.questionnaireElements[this.state.questionnaireElements.length-1].hide(e),this.progressBar.hide(e),this.footer.hide(e)},r.createSuccessScreen=function(){var e=this;return this.successScreen=new i(o,this),this.successScreen.on("imageLoaded",(function(){e.trigger("resize")})),this.successScreen},r.createProgressBar=function(e){return this.progressBar=new f({currentIndex:this.state.currentIndex+1,maxIndex:e.length,uiElements:h}),this.progressBar},r.showSubmitScreen=function(){this.hideQuestion(!0),this.submitScreen.show(),this.trigger("resize")},r.showSuccessScreen=function(){this.hideQuestion(!0),this.submitScreen.hide(),this.successScreen.show(),this.trigger("resize")},r.handleSubmit=function(){o.enableSuccessScreen?this.showSuccessScreen():this.trigger("noSuccessScreen"),this.state.finished=!0,this.triggerXAPI("completed")},r.createFooter=function(){var e=this,t=new l(h.buttonLabels);return t.on("next",(function(){e.move(e.state.currentIndex+1)&&e.showSubmitScreen()})),t.on("previous",(function(){e.move(e.state.currentIndex-1)})),t.trigger("disable-previous"),this.footer=t,t},r.setForwardNavigationButton=function(e){if(!(e>this.state.questionnaireElements.length-1)){var t=this.state.questionnaireElements[e].allowFinish()===v.AllowFinish.ALLOW?"next":"continue";this.footer.setForwardNavigationButton(t)}},r.triggerRequiredQuestion=function(){this.requiredMessage.trigger("showMessage"),this.trigger("resize")},r.move=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.state,n=r.currentIndex,i=r.questionnaireElements,s=i[n];if(e<0)return!1;if(!t&&e>n){if(!this.isValidAnswer(s))return this.triggerRequiredQuestion(),!1;if(s.allowFinish()===v.AllowFinish.DENY&&!s.finish())return this.setForwardNavigationButton(n),this.trigger("resize"),!1}if(e>i.length-1)return!0;this.footer.trigger(0===e?"disable-previous":"enable-previous"),this.setForwardNavigationButton(e),this.requiredMessage.trigger("hideMessage"),i[n].hide(!0);var a=i[e];a.hide(!1);var o=a.getElement().querySelector(".h5p-subcontent-question");if(this.progressBar.attachNumberWidgetTo(o),this.trigger("resize"),this.state=q(this.state,{currentIndex:e}),this.progressBar.move(e+1),0!==e&&0!==n){var u=this.createXAPIEventTemplate("progressed");u.data.statement.object&&(u.data.statement.object.definition.extensions["http://id.tincanapi.com/extension/ending-point"]=e+1,this.trigger(u))}return i[e].setActivityStarted(),!1},r.isValidAnswer=function(e){return!e.isRequired()||e.isAnswered()},r.attach=function(e){e.get(0).classList.add("h5p-questionnaire-wrapper"),e.get(0).appendChild(g)},r.getCurrentState=function(){var e=this.state.questionnaireElements.map((function(e){return e.getCurrentState()}));return this.state.currentIndex||this.state.finished||"function"!=typeof H5P.isEmpty||!H5P.isEmpty(e)?{questions:e,progress:this.state.currentIndex,finished:this.state.finished,version:1}:{}},r.resetTask=function(){delete m.previousState,this.state.questionnaireElements.forEach((function(e){"function"==typeof e.resetTask&&e.resetTask()})),this.isRoot()&&this.move(0,!0),this.finished=!1},r.setPreviousState=function(){var e=m.previousState;if(e&&e.questions){if(this.state.finished=e.finished,e.progress){this.state.currentIndex=e.progress;var t=this.state.currentIndex>=s.length;void 0===e.version&&t&&(this.state.currentIndex=s.length-1,this.state.finished=!0)}e.questions.forEach((function(e,t){s[t].library.userDatas=s[t].library.userDatas||{},s[t].library.userDatas.state=e}))}},r.setPreviousState();var g=r.createQuestionnaire();return r}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,w(t,r),n}(H5P.EventDispatcher)}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),H5P.Questionnaire=r(831).A})();
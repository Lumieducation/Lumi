import{k as pt,s as Ne,c as ae,_ as G,a as mt,r as Zt,u as Yt,b as en,j as C,d as tn,e as nn,g as rn,f as on,h as ce,i as sn,R as te,l as an,m as cn,n as ln,o as L,B as un,P as dn,p as we}from"./index-TDRFcADM.js";import{G as fn,T as hn,a as We}from"./Tabs-DuyXbxmf.js";import"./createSvgIcon-DMh-s1_L.js";const pn=["className","color","disableShrink","size","style","thickness","value","variant"];let de=e=>e,Je,Ve,Ke,Ge;const j=44,mn=pt(Je||(Je=de`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),yn=pt(Ve||(Ve=de`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),wn=e=>{const{classes:t,variant:n,color:r,disableShrink:o}=e,s={root:["root",n,`color${ae(r)}`],svg:["svg"],circle:["circle",`circle${ae(n)}`,o&&"circleDisableShrink"]};return nn(s,rn,t)},bn=Ne("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${ae(n.color)}`]]}})(({ownerState:e,theme:t})=>G({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&mt(Ke||(Ke=de`
      animation: ${0} 1.4s linear infinite;
    `),mn)),gn=Ne("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),En=Ne("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${ae(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>G({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&mt(Ge||(Ge=de`
      animation: ${0} 1.4s ease-in-out infinite;
    `),yn)),vn=Zt.forwardRef(function(t,n){const r=Yt({props:t,name:"MuiCircularProgress"}),{className:o,color:s="primary",disableShrink:i=!1,size:a=40,style:u,thickness:d=3.6,value:l=0,variant:h="indeterminate"}=r,y=en(r,pn),w=G({},r,{color:s,disableShrink:i,size:a,thickness:d,value:l,variant:h}),f=wn(w),p={},E={},v={};if(h==="determinate"){const x=2*Math.PI*((j-d)/2);p.strokeDasharray=x.toFixed(3),v["aria-valuenow"]=Math.round(l),p.strokeDashoffset=`${((100-l)/100*x).toFixed(3)}px`,E.transform="rotate(-90deg)"}return C.jsx(bn,G({className:tn(f.root,o),style:G({width:a,height:a},E,u),ownerState:w,ref:n,role:"progressbar"},v,y,{children:C.jsx(gn,{className:f.svg,ownerState:w,viewBox:`${j/2} ${j/2} ${j} ${j}`,children:C.jsx(En,{className:f.circle,style:p,ownerState:w,cx:j,cy:j,r:(j-d)/2,fill:"none",strokeWidth:d})})}))});var yt={exports:{}},b={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z=Symbol.for("react.element"),Sn=Symbol.for("react.portal"),xn=Symbol.for("react.fragment"),Cn=Symbol.for("react.strict_mode"),Pn=Symbol.for("react.profiler"),On=Symbol.for("react.provider"),Rn=Symbol.for("react.context"),Tn=Symbol.for("react.forward_ref"),_n=Symbol.for("react.suspense"),An=Symbol.for("react.memo"),In=Symbol.for("react.lazy"),Xe=Symbol.iterator;function kn(e){return e===null||typeof e!="object"?null:(e=Xe&&e[Xe]||e["@@iterator"],typeof e=="function"?e:null)}var wt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bt=Object.assign,gt={};function z(e,t,n){this.props=e,this.context=t,this.refs=gt,this.updater=n||wt}z.prototype.isReactComponent={};z.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};z.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Et(){}Et.prototype=z.prototype;function He(e,t,n){this.props=e,this.context=t,this.refs=gt,this.updater=n||wt}var Le=He.prototype=new Et;Le.constructor=He;bt(Le,z.prototype);Le.isPureReactComponent=!0;var Qe=Array.isArray,vt=Object.prototype.hasOwnProperty,De={current:null},St={key:!0,ref:!0,__self:!0,__source:!0};function xt(e,t,n){var r,o={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)vt.call(t,r)&&!St.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var u=Array(a),d=0;d<a;d++)u[d]=arguments[d+2];o.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:Z,type:e,key:s,ref:i,props:o,_owner:De.current}}function jn(e,t){return{$$typeof:Z,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Fe(e){return typeof e=="object"&&e!==null&&e.$$typeof===Z}function Nn(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ze=/\/+/g;function be(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Nn(""+e.key):t.toString(36)}function re(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Z:case Sn:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+be(i,0):r,Qe(o)?(n="",e!=null&&(n=e.replace(Ze,"$&/")+"/"),re(o,t,n,"",function(d){return d})):o!=null&&(Fe(o)&&(o=jn(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(Ze,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",Qe(e))for(var a=0;a<e.length;a++){s=e[a];var u=r+be(s,a);i+=re(s,t,n,u,o)}else if(u=kn(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=r+be(s,a++),i+=re(s,t,n,u,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ne(e,t,n){if(e==null)return e;var r=[],o=0;return re(e,r,"","",function(s){return t.call(n,s,o++)}),r}function Hn(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var P={current:null},oe={transition:null},Ln={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:oe,ReactCurrentOwner:De};b.Children={map:ne,forEach:function(e,t,n){ne(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ne(e,function(){t++}),t},toArray:function(e){return ne(e,function(t){return t})||[]},only:function(e){if(!Fe(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};b.Component=z;b.Fragment=xn;b.Profiler=Pn;b.PureComponent=He;b.StrictMode=Cn;b.Suspense=_n;b.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ln;b.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=bt({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=De.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)vt.call(t,u)&&!St.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var d=0;d<u;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:Z,type:e.type,key:o,ref:s,props:r,_owner:i}};b.createContext=function(e){return e={$$typeof:Rn,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:On,_context:e},e.Consumer=e};b.createElement=xt;b.createFactory=function(e){var t=xt.bind(null,e);return t.type=e,t};b.createRef=function(){return{current:null}};b.forwardRef=function(e){return{$$typeof:Tn,render:e}};b.isValidElement=Fe;b.lazy=function(e){return{$$typeof:In,_payload:{_status:-1,_result:e},_init:Hn}};b.memo=function(e,t){return{$$typeof:An,type:e,compare:t===void 0?null:t}};b.startTransition=function(e){var t=oe.transition;oe.transition={};try{e()}finally{oe.transition=t}};b.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};b.useCallback=function(e,t){return P.current.useCallback(e,t)};b.useContext=function(e){return P.current.useContext(e)};b.useDebugValue=function(){};b.useDeferredValue=function(e){return P.current.useDeferredValue(e)};b.useEffect=function(e,t){return P.current.useEffect(e,t)};b.useId=function(){return P.current.useId()};b.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)};b.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)};b.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)};b.useMemo=function(e,t){return P.current.useMemo(e,t)};b.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)};b.useRef=function(e){return P.current.useRef(e)};b.useState=function(e){return P.current.useState(e)};b.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)};b.useTransition=function(){return P.current.useTransition()};b.version="18.2.0";yt.exports=b;var ge=yt.exports,Dn=function(t){return Fn(t)&&!Un(t)};function Fn(e){return!!e&&typeof e=="object"}function Un(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||$n(e)}var Bn=typeof Symbol=="function"&&Symbol.for,Mn=Bn?Symbol.for("react.element"):60103;function $n(e){return e.$$typeof===Mn}function zn(e){return Array.isArray(e)?[]:{}}function X(e,t){return t.clone!==!1&&t.isMergeableObject(e)?$(zn(e),e,t):e}function qn(e,t,n){return e.concat(t).map(function(r){return X(r,n)})}function Wn(e,t){if(!t.customMerge)return $;var n=t.customMerge(e);return typeof n=="function"?n:$}function Jn(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function Ye(e){return Object.keys(e).concat(Jn(e))}function Ct(e,t){try{return t in e}catch{return!1}}function Vn(e,t){return Ct(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function Kn(e,t,n){var r={};return n.isMergeableObject(e)&&Ye(e).forEach(function(o){r[o]=X(e[o],n)}),Ye(t).forEach(function(o){Vn(e,o)||(Ct(e,o)&&n.isMergeableObject(t[o])?r[o]=Wn(o,n)(e[o],t[o],n):r[o]=X(t[o],n))}),r}function $(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||qn,n.isMergeableObject=n.isMergeableObject||Dn,n.cloneUnlessOtherwiseSpecified=X;var r=Array.isArray(t),o=Array.isArray(e),s=r===o;return s?r?n.arrayMerge(e,t,n):Kn(e,t,n):X(t,n)}$.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,o){return $(r,o,n)},{})};var Gn=$,Xn=Gn;const Qn=on(Xn);function Pt(e,t){if(!window.H5PIntegration){window.H5PIntegration=e;return}t&&e.contents&&e.contents[`cid-${t}`]&&(window.H5PIntegration.contents||(window.H5PIntegration.contents={}),window.H5PIntegration.contents[`cid-${t}`]=e.contents[`cid-${t}`]);const n=Object.assign({},e);delete n.contents,window.H5PIntegration=Qn(window.H5PIntegration,n)}function V(e){var t;!((t=window.H5PIntegration)===null||t===void 0)&&t.contents&&window.H5PIntegration.contents[`cid-${e}`]&&delete window.H5PIntegration.contents[`cid-${e}`]}var Ot={},A=ce&&ce.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ee=ce&&ce.__classPrivateFieldSet||function(e,t,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(e,n):o?o.value=n:t.set(e,n),n},I,H;Object.defineProperty(Ot,"__esModule",{value:!0});class Zn{constructor(){I.set(this,!1),H.set(this,new Set)}get acquired(){return A(this,I,"f")}acquireAsync({timeout:t}={}){if(!A(this,I,"f"))return Ee(this,I,!0,"f"),Promise.resolve();if(t==null)return new Promise(o=>{A(this,H,"f").add(o)});let n,r;return Promise.race([new Promise(o=>{n=()=>{clearTimeout(r),o()},A(this,H,"f").add(n)}),new Promise((o,s)=>{r=setTimeout(()=>{A(this,H,"f").delete(n),s(new Error("Timed out waiting for lock"))},t)})])}tryAcquire(){return A(this,I,"f")?!1:(Ee(this,I,!0,"f"),!0)}release(){if(!A(this,I,"f"))throw new Error("Cannot release an unacquired lock");if(A(this,H,"f").size>0){const[t]=A(this,H,"f");A(this,H,"f").delete(t),t()}else Ee(this,I,!1,"f")}}var Yn=Ot.default=Zn;I=new WeakMap,H=new WeakMap;const et=new Yn;async function Pe(e,t){await et.acquireAsync();try{const n=Array.from(t.getElementsByTagName("script")).map(r=>r.dataset.h5pSrc);await Promise.all(e.map(r=>{if(n.some(i=>i===r))return Promise.resolve();const o=document.createElement("script");o.src=r,o.dataset.h5pSrc=r,o.async=!1,o.defer=!0;const s=new Promise((i,a)=>{o.onload=()=>{i()},o.onerror=a});return t.appendChild(o),s}))}finally{et.release()}}function er(e,t){const n=Array.from(t.getElementsByTagName("link")).map(r=>r.dataset.h5pHref);for(const r of e){if(n.some(s=>s===r))continue;const o=document.createElement("link");o.dataset.h5pHref=r,o.rel="stylesheet",o.href=r,o.type="text/css",t.appendChild(o)}}class D extends HTMLElement{constructor(){super(),this.resize=()=>{var t,n,r;const o=this.querySelector(".h5p-editor-iframe");o&&((r=(n=(t=o.contentWindow)===null||t===void 0?void 0:t.document)===null||n===void 0?void 0:n.body)===null||r===void 0?void 0:r.scrollHeight)!==void 0&&(o.style.height=`${o.contentWindow.document.body.scrollHeight.toString()}px`)},this.save=async()=>{this.editorInstance===void 0&&this.dispatchAndThrowError("save-error","editorInstance of h5p editor not defined."),this.saveContentCallback||this.dispatchAndThrowError("save-error","saveContentCallback of H5P Editor Web Component not defined."),this.editorInstance.getParams().params||this.dispatchAndThrowError("validation-error","The parameters entered by the user are invalid."),this.editorInstance.isMainTitleSet()||this.dispatchAndThrowError("validation-error","The main title of the content hasn't been set.");let n;try{n=await new Promise((s,i)=>{this.editorInstance.getContent(a=>{s(a)},a=>{i(a)})})}catch(s){this.dispatchAndThrowError("validation-error",s.toString())}let r;const o={library:n.library,params:JSON.parse(n.params)};try{r=await this.saveContentCallback(this.contentId==="new"?void 0:this.contentId,o)}catch(s){this.dispatchAndThrowError("save-error",s.message)}return this.contentId!==r.contentId&&this.setAttribute("content-id",r.contentId),this.dispatchEvent(new CustomEvent("saved",{detail:{contentId:r.contentId,metadata:r.metadata}})),r},this.onEditorLoaded=t=>{var n;this.editorInstance.selector.form&&(this.dispatchEvent(new CustomEvent("editorloaded",{detail:{contentId:this.contentId,ubername:t.data}})),!((n=window.H5P)===null||n===void 0)&&n.externalDispatcher&&window.H5P.externalDispatcher.off("editorloaded",this.onEditorLoaded))},D.initTemplate()}get contentId(){var t;return(t=this.getAttribute("content-id"))!==null&&t!==void 0?t:void 0}set contentId(t){t?this.setAttribute("content-id",t):this.removeAttribute("content-id")}get loadContentCallback(){return this.privateLoadContentCallback}set loadContentCallback(t){const n=this.privateLoadContentCallback!==t;this.privateLoadContentCallback=t,n&&this.render(this.contentId)}static get observedAttributes(){return["content-id","h5p-url"]}static initTemplate(){D.template||(D.template=document.createElement("template"),D.template.innerHTML=`
            <style>
            .h5peditor-semi-fullscreen {
                margin: 0;
                padding: 0;
                position: fixed;
                overflow-y: scroll;
                box-sizing: border-box;
                height: 100%;
                width: 100%;
                left: 0;
                top: 0;
            }
            </style>
            <div class="h5p-editor-component-root"></div>`)}async attributeChangedCallback(t,n,r){t==="content-id"&&n!==r&&n!=="new"&&await this.render(r)}async connectedCallback(){this.appendChild(D.template.content.cloneNode(!0)),this.root=this.querySelector(".h5p-editor-component-root"),this.resizeObserver=new ResizeObserver(()=>{this.resize()}),this.resizeObserver.observe(this),await this.render(this.contentId)}disconnectedCallback(){var t;this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),!((t=window.H5P)===null||t===void 0)&&t.externalDispatcher&&window.H5P.externalDispatcher.off("editorloaded",this.onEditorLoaded)}dispatchAndThrowError(t,n){throw this.dispatchEvent(new CustomEvent(t,{detail:{message:n}})),new Error(`${t}: ${n}`)}async render(t){if(!this.loadContentCallback||!t)return;let n;try{n=await this.loadContentCallback(t==="new"?void 0:t)}catch(s){this.root.innerHTML=`<p>Error loading H5P content from server: ${s.message}`;return}this.root.innerHTML="",window.H5P||(window.H5P={}),window.H5P.preventInit=!0,Pt(n.integration,t==="new"?void 0:t),await Pe(n.scripts,document.getElementsByTagName("head")[0]);const r=document.createElement("div");r.className="h5p-create",r.hidden=!0,this.root.appendChild(r);const o=document.createElement("div");o.className="h5p-editor",r.appendChild(o),H5PEditor.getAjaxUrl=(s,i)=>{let a=n.integration.editor.ajaxPath+s;if(i!==void 0)for(const u in i)Object.prototype.hasOwnProperty.call(i,u)&&(a=`${a}&${u}=${i[u]}`);return a+=window.location.search.replace(/\\?/g,"&"),a},window.H5P.preventInit=!1,window.h5pIsInitialized||(window.H5P.init(this.root),window.h5pIsInitialized=!0),window.H5P.externalDispatcher&&window.H5P.externalDispatcher.on("editorloaded",this.onEditorLoaded,this),H5PEditor.$=window.H5P.jQuery,H5PEditor.basePath=n.integration.editor.libraryUrl,H5PEditor.fileIcon=n.integration.editor.fileIcon,H5PEditor.ajaxPath=n.integration.editor.ajaxPath,H5PEditor.filesPath=n.integration.editor.filesPath,H5PEditor.apiVersion=n.integration.editor.apiVersion,H5PEditor.contentLanguage=n.integration.editor.language,H5PEditor.copyrightSemantics=n.integration.editor.copyrightSemantics,H5PEditor.metadataSemantics=n.integration.editor.metadataSemantics,H5PEditor.assets=n.integration.editor.assets,H5PEditor.baseUrl="",H5PEditor.contentId=t==="new"?void 0:t,H5PEditor.enableContentHub=n.integration.editor.enableContentHub||!1,t==="new"?this.editorInstance=new ns.Editor(void 0,void 0,o):this.editorInstance=new ns.Editor(n.library,JSON.stringify({metadata:n.metadata,params:n.params}),o),r.hidden=!1}}class F extends HTMLElement{get contentId(){return this.getAttribute("content-id")}set contentId(t){this.setAttribute("content-id",t)}get contextId(){return this.getAttribute("context-id")}set contextId(t){this.setAttribute("context-id",t)}get asUserId(){return this.getAttribute("as-user-id")}set asUserId(t){this.setAttribute("as-user-id",t)}get readOnlyState(){return this.getAttribute("read-only-state")}set readOnlyState(t){this.setAttribute("read-only-state",t)}get h5pInstance(){return this.h5pInstanceInternal}set h5pInstance(t){this.h5pInstanceInternal=t}get h5pObject(){return this.h5pObjectInternal}set h5pObject(t){this.h5pObjectInternal=t}get h5pWindow(){return this.h5pWindowInternal}set h5pWindow(t){this.h5pWindowInternal=t}get loadContentCallback(){return this.privateLoadContentCallback}set loadContentCallback(t){const n=this.privateLoadContentCallback!==t;this.privateLoadContentCallback=t,n&&this.render(this.contentId,this.contextId,this.asUserId,this.readOnlyState)}static get observedAttributes(){return["content-id","context-id","as-user-id","read-only-state"]}constructor(){super(),this.onContentInitialized=()=>{var t,n,r;const o=this.playerModel.embedTypes.includes("div");this.h5pObject=o?window.H5P:document.getElementById(`h5p-iframe-${this.playerModel.contentId}`).contentWindow.H5P,this.h5pWindow=o?window:document.getElementById(`h5p-iframe-${this.playerModel.contentId}`).contentWindow,this.h5pInstance=(n=(t=this.h5pObject)===null||t===void 0?void 0:t.instances)===null||n===void 0?void 0:n.find(s=>s.contentId==this.contentId),this.h5pInstance&&(this.dispatchEvent(new CustomEvent("initialized",{detail:{contentId:this.contentId}})),!((r=window.H5P)===null||r===void 0)&&r.externalDispatcher&&window.H5P.externalDispatcher.off("initialized",this.onContentInitialized))},this.onxAPI=t=>{var n,r,o,s;if(`${(s=(o=(r=(n=t.data)===null||n===void 0?void 0:n.statement)===null||r===void 0?void 0:r.object)===null||o===void 0?void 0:o.definition)===null||s===void 0?void 0:s.extensions["http://h5p.org/x-api/h5p-local-content-id"]}`==`${this.playerModel.contentId}`){const i={contentId:this.playerModel.contentId};this.dispatchEvent(new CustomEvent("xAPI",{detail:{statement:t.data.statement,context:i,event:t}}))}},F.initTemplate()}static initTemplate(){F.template||(F.template=document.createElement("template"),F.template.innerHTML=`
                <style>
                    .h5p-iframe {
                        font-family: Sans-Serif;
                        width: 100%;
                        margin: 0;
                        padding: 0;
                    }
                    .h5p-iframe .h5p-container {
                        overflow: hidden;
                    }
                    .h5p-iframe .h5p-content {
                        font-size: 16px;
                        line-height: 1.5em;
                        width: 100%;
                        height: auto;
                    }
                    .h5p-iframe .h5p-fullscreen .h5p-content,
                    .h5p-fullscreen .h5p-iframe,
                    .h5p-iframe .h5p-semi-fullscreen .h5p-content {
                        height: 100%;
                    }
                </style>
                <div class="h5p-player-component-root"></div>
                `)}async attributeChangedCallback(t,n,r){t==="content-id"?(n&&V(n),await this.render(r,this.contextId,this.asUserId,this.readOnlyState)):t==="context-id"?(n&&V(this.contentId),await this.render(this.contentId,r,this.asUserId,this.readOnlyState)):t==="as-user-id"?(n&&V(this.contentId),await this.render(this.contentId,this.contextId,r,this.readOnlyState)):t==="read-only-state"&&(n&&V(this.contentId),await this.render(this.contentId,this.contextId,this.asUserId,r))}connectedCallback(){this.appendChild(F.template.content.cloneNode(!0)),this.root=this.querySelector(".h5p-player-component-root"),this.resizeObserver=new ResizeObserver(()=>{var t;!((t=window.H5P)===null||t===void 0)&&t.instances&&window.H5P.instances.forEach(n=>{n.trigger("resize")})}),this.resizeObserver.observe(this)}disconnectedCallback(){var t;this.contentId&&V(this.contentId),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),!((t=window.H5P)===null||t===void 0)&&t.externalDispatcher&&(window.H5P.externalDispatcher.off("initialized",this.onContentInitialized),window.H5P.externalDispatcher.off("xAPI",this.onxAPI))}getCopyrightHtml(){var t;if(!this.h5pInstance){console.error("Cannot show copyright as H5P instance is undefined. The H5P object might not be initialized yet.");return}if(!this.h5pObject){console.error("H5P object undefined. This typically means H5P has not been initialized yet.");return}let n=(t=this.h5pInstance.contentData)===null||t===void 0?void 0:t.metadata;if(!n&&(n=this.playerModel.integration.contents[`cid-${this.playerModel.contentId}`].metadata,!n))return;let r;try{r=this.h5pWindow.JSON.parse(this.playerModel.integration.contents[`cid-${this.playerModel.contentId}`].jsonContent)}catch(o){console.error("Could not get parameters for content object with id ",this.playerModel.contentId,". The copyright text might be incomplete. Details: ",o)}return this.h5pObject.getCopyrights(this.h5pInstance,r,this.playerModel.contentId,n)}hasCopyrightInformation(){return!!this.getCopyrightHtml()}resize(){!this.h5pInstance||!this.h5pInstance.trigger||this.h5pInstance.trigger("resize")}showCopyright(){const t=this.getCopyrightHtml();new this.h5pObject.Dialog("copyrights",this.h5pObject.t("copyrightInformation"),t,this.h5pObject.jQuery(".h5p-container")).open(!0)}async render(t,n,r,o){if(this.loadContentCallback){try{console.log("readOnlyState",o),this.playerModel=await this.loadContentCallback(t,n,r,o==="true")}catch(s){this.root.innerHTML=`<p>Error loading H5P content from server: ${s.message}</p>`;return}this.root.innerHTML="",window.H5P||(window.H5P={}),window.H5P.preventInit=!0,Pt(this.playerModel.integration,this.playerModel.contentId),this.playerModel.embedTypes.includes("div")?await this.renderDiv(this.playerModel):await this.renderIframe(this.playerModel),window.H5P.preventInit=!1,window.H5P.externalDispatcher&&window.H5P.externalDispatcher.on("initialized",this.onContentInitialized,this),window.H5P.preventInit=!1,window.H5P.externalDispatcher&&(window.H5P.externalDispatcher.off("xAPI",this.onxAPI),window.H5P.externalDispatcher.on("xAPI",this.onxAPI)),window.H5P.init(this.root)}}async renderDiv(t){er(t.styles,document.getElementsByTagName("head")[0]),await Pe(t.scripts,document.getElementsByTagName("head")[0]);const n=document.createElement("div");n.className="h5p-iframe",this.root.appendChild(n);const r=document.createElement("div");r.className="h5p-content",r.dataset.contentId=t.contentId,n.appendChild(r)}async renderIframe(t){await Pe(window.H5PIntegration.core.scripts,document.getElementsByTagName("head")[0]);const n=document.createElement("div");n.className="h5p-iframe-wrapper",n.innerHTML=`<iframe id="h5p-iframe-${t.contentId}"
        class="h5p-iframe" data-content-id="${t.contentId}"
        style="height:1px" src="about:blank" frameBorder="0" scrolling="no"
        title="H5P"></iframe>`,this.root.appendChild(n)}}function Rt(e){(!e||typeof e=="string"&&e==="h5p-player"||Array.isArray(e)&&e.includes("h5p-player"))&&!window.customElements.get("h5p-player")&&window.customElements.define("h5p-player",F),(!e||typeof e=="string"&&e==="h5p-editor"||Array.isArray(e)&&e.includes("h5p-editor"))&&!window.customElements.get("h5p-editor")&&window.customElements.define("h5p-editor",D)}Rt("h5p-player");Rt("h5p-editor");class tr extends ge.Component{constructor(t){super(t),this.loadContentCallbackWrapper=n=>this.props.loadContentCallback(n),this.onEditorLoaded=n=>{this.props.onLoaded&&this.props.onLoaded(n.detail.contentId,n.detail.ubername)},this.onSaved=n=>{this.props.onSaved&&this.props.onSaved(n.detail.contentId,n.detail.metadata)},this.onSaveError=async n=>{this.props.onSaveError&&this.props.onSaveError(n.detail.message)},this.saveContentCallbackWrapper=(n,r)=>this.props.saveContentCallback(n,r),this.h5pEditor=ge.createRef()}componentDidMount(){this.registerEvents(),this.setServiceCallbacks()}componentDidUpdate(){var t;this.registerEvents(),this.setServiceCallbacks(),(t=this.h5pEditor.current)===null||t===void 0||t.resize()}componentWillUnmount(){this.unregisterEvents()}getSnapshotBeforeUpdate(){return this.unregisterEvents(),null}render(){return ge.createElement("h5p-editor",{ref:this.h5pEditor,"content-id":this.props.contentId})}async save(){var t;try{return await((t=this.h5pEditor.current)===null||t===void 0?void 0:t.save())}catch{}}registerEvents(){var t,n,r,o;(t=this.h5pEditor.current)===null||t===void 0||t.addEventListener("saved",this.onSaved),(n=this.h5pEditor.current)===null||n===void 0||n.addEventListener("editorloaded",this.onEditorLoaded),(r=this.h5pEditor.current)===null||r===void 0||r.addEventListener("save-error",this.onSaveError),(o=this.h5pEditor.current)===null||o===void 0||o.addEventListener("validation-error",this.onSaveError)}setServiceCallbacks(){this.h5pEditor.current&&(this.h5pEditor.current.loadContentCallback=this.loadContentCallbackWrapper,this.h5pEditor.current.saveContentCallback=this.saveContentCallbackWrapper)}unregisterEvents(){var t,n,r,o;(t=this.h5pEditor.current)===null||t===void 0||t.removeEventListener("saved",this.onSaved),(n=this.h5pEditor.current)===null||n===void 0||n.removeEventListener("editorloaded",this.onEditorLoaded),(r=this.h5pEditor.current)===null||r===void 0||r.removeEventListener("save-error",this.onSaveError),(o=this.h5pEditor.current)===null||o===void 0||o.removeEventListener("validation-error",this.onSaveError)}}function Tt(e,t){return function(){return e.apply(t,arguments)}}const{toString:nr}=Object.prototype,{getPrototypeOf:Ue}=Object,fe=(e=>t=>{const n=nr.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),_=e=>(e=e.toLowerCase(),t=>fe(t)===e),he=e=>t=>typeof t===e,{isArray:q}=Array,Q=he("undefined");function rr(e){return e!==null&&!Q(e)&&e.constructor!==null&&!Q(e.constructor)&&R(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const _t=_("ArrayBuffer");function or(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&_t(e.buffer),t}const sr=he("string"),R=he("function"),At=he("number"),pe=e=>e!==null&&typeof e=="object",ir=e=>e===!0||e===!1,se=e=>{if(fe(e)!=="object")return!1;const t=Ue(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ar=_("Date"),cr=_("File"),lr=_("Blob"),ur=_("FileList"),dr=e=>pe(e)&&R(e.pipe),fr=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||R(e.append)&&((t=fe(e))==="formdata"||t==="object"&&R(e.toString)&&e.toString()==="[object FormData]"))},hr=_("URLSearchParams"),[pr,mr,yr,wr]=["ReadableStream","Request","Response","Headers"].map(_),br=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Y(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),q(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const s=n?Object.getOwnPropertyNames(e):Object.keys(e),i=s.length;let a;for(r=0;r<i;r++)a=s[r],t.call(null,e[a],a,e)}}function It(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,o;for(;r-- >0;)if(o=n[r],t===o.toLowerCase())return o;return null}const kt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,jt=e=>!Q(e)&&e!==kt;function Oe(){const{caseless:e}=jt(this)&&this||{},t={},n=(r,o)=>{const s=e&&It(t,o)||o;se(t[s])&&se(r)?t[s]=Oe(t[s],r):se(r)?t[s]=Oe({},r):q(r)?t[s]=r.slice():t[s]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&Y(arguments[r],n);return t}const gr=(e,t,n,{allOwnKeys:r}={})=>(Y(t,(o,s)=>{n&&R(o)?e[s]=Tt(o,n):e[s]=o},{allOwnKeys:r}),e),Er=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),vr=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Sr=(e,t,n,r)=>{let o,s,i;const a={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),s=o.length;s-- >0;)i=o[s],(!r||r(i,e,t))&&!a[i]&&(t[i]=e[i],a[i]=!0);e=n!==!1&&Ue(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},xr=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Cr=e=>{if(!e)return null;if(q(e))return e;let t=e.length;if(!At(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Pr=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ue(Uint8Array)),Or=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=r.next())&&!o.done;){const s=o.value;t.call(e,s[0],s[1])}},Rr=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Tr=_("HTMLFormElement"),_r=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),tt=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Ar=_("RegExp"),Nt=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Y(n,(o,s)=>{let i;(i=t(o,s,e))!==!1&&(r[s]=i||o)}),Object.defineProperties(e,r)},Ir=e=>{Nt(e,(t,n)=>{if(R(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(R(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},kr=(e,t)=>{const n={},r=o=>{o.forEach(s=>{n[s]=!0})};return q(e)?r(e):r(String(e).split(t)),n},jr=()=>{},Nr=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,ve="abcdefghijklmnopqrstuvwxyz",nt="0123456789",Ht={DIGIT:nt,ALPHA:ve,ALPHA_DIGIT:ve+ve.toUpperCase()+nt},Hr=(e=16,t=Ht.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function Lr(e){return!!(e&&R(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Dr=e=>{const t=new Array(10),n=(r,o)=>{if(pe(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[o]=r;const s=q(r)?[]:{};return Y(r,(i,a)=>{const u=n(i,o+1);!Q(u)&&(s[a]=u)}),t[o]=void 0,s}}return r};return n(e,0)},Fr=_("AsyncFunction"),Ur=e=>e&&(pe(e)||R(e))&&R(e.then)&&R(e.catch),c={isArray:q,isArrayBuffer:_t,isBuffer:rr,isFormData:fr,isArrayBufferView:or,isString:sr,isNumber:At,isBoolean:ir,isObject:pe,isPlainObject:se,isReadableStream:pr,isRequest:mr,isResponse:yr,isHeaders:wr,isUndefined:Q,isDate:ar,isFile:cr,isBlob:lr,isRegExp:Ar,isFunction:R,isStream:dr,isURLSearchParams:hr,isTypedArray:Pr,isFileList:ur,forEach:Y,merge:Oe,extend:gr,trim:br,stripBOM:Er,inherits:vr,toFlatObject:Sr,kindOf:fe,kindOfTest:_,endsWith:xr,toArray:Cr,forEachEntry:Or,matchAll:Rr,isHTMLForm:Tr,hasOwnProperty:tt,hasOwnProp:tt,reduceDescriptors:Nt,freezeMethods:Ir,toObjectSet:kr,toCamelCase:_r,noop:jr,toFiniteNumber:Nr,findKey:It,global:kt,isContextDefined:jt,ALPHABET:Ht,generateString:Hr,isSpecCompliantForm:Lr,toJSONObject:Dr,isAsyncFn:Fr,isThenable:Ur};function m(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}c.inherits(m,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:c.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Lt=m.prototype,Dt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Dt[e]={value:e}});Object.defineProperties(m,Dt);Object.defineProperty(Lt,"isAxiosError",{value:!0});m.from=(e,t,n,r,o,s)=>{const i=Object.create(Lt);return c.toFlatObject(e,i,function(u){return u!==Error.prototype},a=>a!=="isAxiosError"),m.call(i,e.message,t,n,r,o),i.cause=e,i.name=e.name,s&&Object.assign(i,s),i};const Br=null;function Re(e){return c.isPlainObject(e)||c.isArray(e)}function Ft(e){return c.endsWith(e,"[]")?e.slice(0,-2):e}function rt(e,t,n){return e?e.concat(t).map(function(o,s){return o=Ft(o),!n&&s?"["+o+"]":o}).join(n?".":""):t}function Mr(e){return c.isArray(e)&&!e.some(Re)}const $r=c.toFlatObject(c,{},null,function(t){return/^is[A-Z]/.test(t)});function me(e,t,n){if(!c.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=c.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,E){return!c.isUndefined(E[p])});const r=n.metaTokens,o=n.visitor||l,s=n.dots,i=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&c.isSpecCompliantForm(t);if(!c.isFunction(o))throw new TypeError("visitor must be a function");function d(f){if(f===null)return"";if(c.isDate(f))return f.toISOString();if(!u&&c.isBlob(f))throw new m("Blob is not supported. Use a Buffer instead.");return c.isArrayBuffer(f)||c.isTypedArray(f)?u&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function l(f,p,E){let v=f;if(f&&!E&&typeof f=="object"){if(c.endsWith(p,"{}"))p=r?p:p.slice(0,-2),f=JSON.stringify(f);else if(c.isArray(f)&&Mr(f)||(c.isFileList(f)||c.endsWith(p,"[]"))&&(v=c.toArray(f)))return p=Ft(p),v.forEach(function(g,J){!(c.isUndefined(g)||g===null)&&t.append(i===!0?rt([p],J,s):i===null?p:p+"[]",d(g))}),!1}return Re(f)?!0:(t.append(rt(E,p,s),d(f)),!1)}const h=[],y=Object.assign($r,{defaultVisitor:l,convertValue:d,isVisitable:Re});function w(f,p){if(!c.isUndefined(f)){if(h.indexOf(f)!==-1)throw Error("Circular reference detected in "+p.join("."));h.push(f),c.forEach(f,function(v,x){(!(c.isUndefined(v)||v===null)&&o.call(t,v,c.isString(x)?x.trim():x,p,y))===!0&&w(v,p?p.concat(x):[x])}),h.pop()}}if(!c.isObject(e))throw new TypeError("data must be an object");return w(e),t}function ot(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Be(e,t){this._pairs=[],e&&me(e,this,t)}const Ut=Be.prototype;Ut.append=function(t,n){this._pairs.push([t,n])};Ut.toString=function(t){const n=t?function(r){return t.call(this,r,ot)}:ot;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function zr(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Bt(e,t,n){if(!t)return e;const r=n&&n.encode||zr,o=n&&n.serialize;let s;if(o?s=o(t,n):s=c.isURLSearchParams(t)?t.toString():new Be(t,n).toString(r),s){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class st{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){c.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Mt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qr=typeof URLSearchParams<"u"?URLSearchParams:Be,Wr=typeof FormData<"u"?FormData:null,Jr=typeof Blob<"u"?Blob:null,Vr={isBrowser:!0,classes:{URLSearchParams:qr,FormData:Wr,Blob:Jr},protocols:["http","https","file","blob","url","data"]},Me=typeof window<"u"&&typeof document<"u",Kr=(e=>Me&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),Gr=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Xr=Me&&window.location.href||"http://localhost",Qr=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Me,hasStandardBrowserEnv:Kr,hasStandardBrowserWebWorkerEnv:Gr,origin:Xr},Symbol.toStringTag,{value:"Module"})),T={...Qr,...Vr};function Zr(e,t){return me(e,new T.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,s){return T.isNode&&c.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function Yr(e){return c.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function eo(e){const t={},n=Object.keys(e);let r;const o=n.length;let s;for(r=0;r<o;r++)s=n[r],t[s]=e[s];return t}function $t(e){function t(n,r,o,s){let i=n[s++];if(i==="__proto__")return!0;const a=Number.isFinite(+i),u=s>=n.length;return i=!i&&c.isArray(o)?o.length:i,u?(c.hasOwnProp(o,i)?o[i]=[o[i],r]:o[i]=r,!a):((!o[i]||!c.isObject(o[i]))&&(o[i]=[]),t(n,r,o[i],s)&&c.isArray(o[i])&&(o[i]=eo(o[i])),!a)}if(c.isFormData(e)&&c.isFunction(e.entries)){const n={};return c.forEachEntry(e,(r,o)=>{t(Yr(r),o,n,0)}),n}return null}function to(e,t,n){if(c.isString(e))try{return(t||JSON.parse)(e),c.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const ee={transitional:Mt,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,s=c.isObject(t);if(s&&c.isHTMLForm(t)&&(t=new FormData(t)),c.isFormData(t))return o?JSON.stringify($t(t)):t;if(c.isArrayBuffer(t)||c.isBuffer(t)||c.isStream(t)||c.isFile(t)||c.isBlob(t)||c.isReadableStream(t))return t;if(c.isArrayBufferView(t))return t.buffer;if(c.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Zr(t,this.formSerializer).toString();if((a=c.isFileList(t))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return me(a?{"files[]":t}:t,u&&new u,this.formSerializer)}}return s||o?(n.setContentType("application/json",!1),to(t)):t}],transformResponse:[function(t){const n=this.transitional||ee.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(c.isResponse(t)||c.isReadableStream(t))return t;if(t&&c.isString(t)&&(r&&!this.responseType||o)){const i=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(a){if(i)throw a.name==="SyntaxError"?m.from(a,m.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:T.classes.FormData,Blob:T.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};c.forEach(["delete","get","head","post","put","patch"],e=>{ee.headers[e]={}});const no=c.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ro=e=>{const t={};let n,r,o;return e&&e.split(`
`).forEach(function(i){o=i.indexOf(":"),n=i.substring(0,o).trim().toLowerCase(),r=i.substring(o+1).trim(),!(!n||t[n]&&no[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},it=Symbol("internals");function K(e){return e&&String(e).trim().toLowerCase()}function ie(e){return e===!1||e==null?e:c.isArray(e)?e.map(ie):String(e)}function oo(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const so=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Se(e,t,n,r,o){if(c.isFunction(r))return r.call(this,t,n);if(o&&(t=n),!!c.isString(t)){if(c.isString(r))return t.indexOf(r)!==-1;if(c.isRegExp(r))return r.test(t)}}function io(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function ao(e,t){const n=c.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(o,s,i){return this[r].call(this,t,o,s,i)},configurable:!0})})}class O{constructor(t){t&&this.set(t)}set(t,n,r){const o=this;function s(a,u,d){const l=K(u);if(!l)throw new Error("header name must be a non-empty string");const h=c.findKey(o,l);(!h||o[h]===void 0||d===!0||d===void 0&&o[h]!==!1)&&(o[h||u]=ie(a))}const i=(a,u)=>c.forEach(a,(d,l)=>s(d,l,u));if(c.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(c.isString(t)&&(t=t.trim())&&!so(t))i(ro(t),n);else if(c.isHeaders(t))for(const[a,u]of t.entries())s(u,a,r);else t!=null&&s(n,t,r);return this}get(t,n){if(t=K(t),t){const r=c.findKey(this,t);if(r){const o=this[r];if(!n)return o;if(n===!0)return oo(o);if(c.isFunction(n))return n.call(this,o,r);if(c.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=K(t),t){const r=c.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Se(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let o=!1;function s(i){if(i=K(i),i){const a=c.findKey(r,i);a&&(!n||Se(r,r[a],a,n))&&(delete r[a],o=!0)}}return c.isArray(t)?t.forEach(s):s(t),o}clear(t){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const s=n[r];(!t||Se(this,this[s],s,t,!0))&&(delete this[s],o=!0)}return o}normalize(t){const n=this,r={};return c.forEach(this,(o,s)=>{const i=c.findKey(r,s);if(i){n[i]=ie(o),delete n[s];return}const a=t?io(s):String(s).trim();a!==s&&delete n[s],n[a]=ie(o),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return c.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=t&&c.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(o=>r.set(o)),r}static accessor(t){const r=(this[it]=this[it]={accessors:{}}).accessors,o=this.prototype;function s(i){const a=K(i);r[a]||(ao(o,i),r[a]=!0)}return c.isArray(t)?t.forEach(s):s(t),this}}O.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);c.reduceDescriptors(O.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});c.freezeMethods(O);function xe(e,t){const n=this||ee,r=t||n,o=O.from(r.headers);let s=r.data;return c.forEach(e,function(a){s=a.call(n,s,o.normalize(),t?t.status:void 0)}),o.normalize(),s}function zt(e){return!!(e&&e.__CANCEL__)}function W(e,t,n){m.call(this,e??"canceled",m.ERR_CANCELED,t,n),this.name="CanceledError"}c.inherits(W,m,{__CANCEL__:!0});function qt(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new m("Request failed with status code "+n.status,[m.ERR_BAD_REQUEST,m.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function co(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function lo(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o=0,s=0,i;return t=t!==void 0?t:1e3,function(u){const d=Date.now(),l=r[s];i||(i=d),n[o]=u,r[o]=d;let h=s,y=0;for(;h!==o;)y+=n[h++],h=h%e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),d-i<t)return;const w=l&&d-l;return w?Math.round(y*1e3/w):void 0}}function uo(e,t){let n=0;const r=1e3/t;let o=null;return function(){const i=this===!0,a=Date.now();if(i||a-n>r)return o&&(clearTimeout(o),o=null),n=a,e.apply(null,arguments);o||(o=setTimeout(()=>(o=null,n=Date.now(),e.apply(null,arguments)),r-(a-n)))}}const le=(e,t,n=3)=>{let r=0;const o=lo(50,250);return uo(s=>{const i=s.loaded,a=s.lengthComputable?s.total:void 0,u=i-r,d=o(u),l=i<=a;r=i;const h={loaded:i,total:a,progress:a?i/a:void 0,bytes:u,rate:d||void 0,estimated:d&&a&&l?(a-i)/d:void 0,event:s,lengthComputable:a!=null};h[t?"download":"upload"]=!0,e(h)},n)},fo=T.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function o(s){let i=s;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=o(window.location.href),function(i){const a=c.isString(i)?o(i):i;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),ho=T.hasStandardBrowserEnv?{write(e,t,n,r,o,s){const i=[e+"="+encodeURIComponent(t)];c.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),c.isString(r)&&i.push("path="+r),c.isString(o)&&i.push("domain="+o),s===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function po(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function mo(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Wt(e,t){return e&&!po(t)?mo(e,t):t}const at=e=>e instanceof O?{...e}:e;function B(e,t){t=t||{};const n={};function r(d,l,h){return c.isPlainObject(d)&&c.isPlainObject(l)?c.merge.call({caseless:h},d,l):c.isPlainObject(l)?c.merge({},l):c.isArray(l)?l.slice():l}function o(d,l,h){if(c.isUndefined(l)){if(!c.isUndefined(d))return r(void 0,d,h)}else return r(d,l,h)}function s(d,l){if(!c.isUndefined(l))return r(void 0,l)}function i(d,l){if(c.isUndefined(l)){if(!c.isUndefined(d))return r(void 0,d)}else return r(void 0,l)}function a(d,l,h){if(h in t)return r(d,l);if(h in e)return r(void 0,d)}const u={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(d,l)=>o(at(d),at(l),!0)};return c.forEach(Object.keys(Object.assign({},e,t)),function(l){const h=u[l]||o,y=h(e[l],t[l],l);c.isUndefined(y)&&h!==a||(n[l]=y)}),n}const Jt=e=>{const t=B({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:s,headers:i,auth:a}=t;t.headers=i=O.from(i),t.url=Bt(Wt(t.baseURL,t.url),e.params,e.paramsSerializer),a&&i.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let u;if(c.isFormData(n)){if(T.hasStandardBrowserEnv||T.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((u=i.getContentType())!==!1){const[d,...l]=u?u.split(";").map(h=>h.trim()).filter(Boolean):[];i.setContentType([d||"multipart/form-data",...l].join("; "))}}if(T.hasStandardBrowserEnv&&(r&&c.isFunction(r)&&(r=r(t)),r||r!==!1&&fo(t.url))){const d=o&&s&&ho.read(s);d&&i.set(o,d)}return t},yo=typeof XMLHttpRequest<"u",wo=yo&&function(e){return new Promise(function(n,r){const o=Jt(e);let s=o.data;const i=O.from(o.headers).normalize();let{responseType:a}=o,u;function d(){o.cancelToken&&o.cancelToken.unsubscribe(u),o.signal&&o.signal.removeEventListener("abort",u)}let l=new XMLHttpRequest;l.open(o.method.toUpperCase(),o.url,!0),l.timeout=o.timeout;function h(){if(!l)return;const w=O.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),p={data:!a||a==="text"||a==="json"?l.responseText:l.response,status:l.status,statusText:l.statusText,headers:w,config:e,request:l};qt(function(v){n(v),d()},function(v){r(v),d()},p),l=null}"onloadend"in l?l.onloadend=h:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(h)},l.onabort=function(){l&&(r(new m("Request aborted",m.ECONNABORTED,o,l)),l=null)},l.onerror=function(){r(new m("Network Error",m.ERR_NETWORK,o,l)),l=null},l.ontimeout=function(){let f=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const p=o.transitional||Mt;o.timeoutErrorMessage&&(f=o.timeoutErrorMessage),r(new m(f,p.clarifyTimeoutError?m.ETIMEDOUT:m.ECONNABORTED,o,l)),l=null},s===void 0&&i.setContentType(null),"setRequestHeader"in l&&c.forEach(i.toJSON(),function(f,p){l.setRequestHeader(p,f)}),c.isUndefined(o.withCredentials)||(l.withCredentials=!!o.withCredentials),a&&a!=="json"&&(l.responseType=o.responseType),typeof o.onDownloadProgress=="function"&&l.addEventListener("progress",le(o.onDownloadProgress,!0)),typeof o.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",le(o.onUploadProgress)),(o.cancelToken||o.signal)&&(u=w=>{l&&(r(!w||w.type?new W(null,e,l):w),l.abort(),l=null)},o.cancelToken&&o.cancelToken.subscribe(u),o.signal&&(o.signal.aborted?u():o.signal.addEventListener("abort",u)));const y=co(o.url);if(y&&T.protocols.indexOf(y)===-1){r(new m("Unsupported protocol "+y+":",m.ERR_BAD_REQUEST,e));return}l.send(s||null)})},bo=(e,t)=>{let n=new AbortController,r;const o=function(u){if(!r){r=!0,i();const d=u instanceof Error?u:this.reason;n.abort(d instanceof m?d:new W(d instanceof Error?d.message:d))}};let s=t&&setTimeout(()=>{o(new m(`timeout ${t} of ms exceeded`,m.ETIMEDOUT))},t);const i=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(u=>{u&&(u.removeEventListener?u.removeEventListener("abort",o):u.unsubscribe(o))}),e=null)};e.forEach(u=>u&&u.addEventListener&&u.addEventListener("abort",o));const{signal:a}=n;return a.unsubscribe=i,[a,()=>{s&&clearTimeout(s),s=null}]},go=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,o;for(;r<n;)o=r+t,yield e.slice(r,o),r=o},Eo=async function*(e,t,n){for await(const r of e)yield*go(ArrayBuffer.isView(r)?r:await n(String(r)),t)},ct=(e,t,n,r,o)=>{const s=Eo(e,t,o);let i=0;return new ReadableStream({type:"bytes",async pull(a){const{done:u,value:d}=await s.next();if(u){a.close(),r();return}let l=d.byteLength;n&&n(i+=l),a.enqueue(new Uint8Array(d))},cancel(a){return r(a),s.return()}},{highWaterMark:2})},lt=(e,t)=>{const n=e!=null;return r=>setTimeout(()=>t({lengthComputable:n,total:e,loaded:r}))},ye=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Vt=ye&&typeof ReadableStream=="function",Te=ye&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),vo=Vt&&(()=>{let e=!1;const t=new Request(T.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})(),ut=64*1024,_e=Vt&&!!(()=>{try{return c.isReadableStream(new Response("").body)}catch{}})(),ue={stream:_e&&(e=>e.body)};ye&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ue[t]&&(ue[t]=c.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new m(`Response type '${t}' is not supported`,m.ERR_NOT_SUPPORT,r)})})})(new Response);const So=async e=>{if(e==null)return 0;if(c.isBlob(e))return e.size;if(c.isSpecCompliantForm(e))return(await new Request(e).arrayBuffer()).byteLength;if(c.isArrayBufferView(e))return e.byteLength;if(c.isURLSearchParams(e)&&(e=e+""),c.isString(e))return(await Te(e)).byteLength},xo=async(e,t)=>{const n=c.toFiniteNumber(e.getContentLength());return n??So(t)},Co=ye&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:s,timeout:i,onDownloadProgress:a,onUploadProgress:u,responseType:d,headers:l,withCredentials:h="same-origin",fetchOptions:y}=Jt(e);d=d?(d+"").toLowerCase():"text";let[w,f]=o||s||i?bo([o,s],i):[],p,E;const v=()=>{!p&&setTimeout(()=>{w&&w.unsubscribe()}),p=!0};let x;try{if(u&&vo&&n!=="get"&&n!=="head"&&(x=await xo(l,r))!==0){let k=new Request(t,{method:"POST",body:r,duplex:"half"}),M;c.isFormData(r)&&(M=k.headers.get("content-type"))&&l.setContentType(M),k.body&&(r=ct(k.body,ut,lt(x,le(u)),null,Te))}c.isString(h)||(h=h?"cors":"omit"),E=new Request(t,{...y,signal:w,method:n.toUpperCase(),headers:l.normalize().toJSON(),body:r,duplex:"half",withCredentials:h});let g=await fetch(E);const J=_e&&(d==="stream"||d==="response");if(_e&&(a||J)){const k={};["status","statusText","headers"].forEach(qe=>{k[qe]=g[qe]});const M=c.toFiniteNumber(g.headers.get("content-length"));g=new Response(ct(g.body,ut,a&&lt(M,le(a,!0)),J&&v,Te),k)}d=d||"text";let Qt=await ue[c.findKey(ue,d)||"text"](g,e);return!J&&v(),f&&f(),await new Promise((k,M)=>{qt(k,M,{data:Qt,headers:O.from(g.headers),status:g.status,statusText:g.statusText,config:e,request:E})})}catch(g){throw v(),g&&g.name==="TypeError"&&/fetch/i.test(g.message)?Object.assign(new m("Network Error",m.ERR_NETWORK,e,E),{cause:g.cause||g}):m.from(g,g&&g.code,e,E)}}),Ae={http:Br,xhr:wo,fetch:Co};c.forEach(Ae,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const dt=e=>`- ${e}`,Po=e=>c.isFunction(e)||e===null||e===!1,Kt={getAdapter:e=>{e=c.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let s=0;s<t;s++){n=e[s];let i;if(r=n,!Po(n)&&(r=Ae[(i=String(n)).toLowerCase()],r===void 0))throw new m(`Unknown adapter '${i}'`);if(r)break;o[i||"#"+s]=r}if(!r){const s=Object.entries(o).map(([a,u])=>`adapter ${a} `+(u===!1?"is not supported by the environment":"is not available in the build"));let i=t?s.length>1?`since :
`+s.map(dt).join(`
`):" "+dt(s[0]):"as no adapter specified";throw new m("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:Ae};function Ce(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new W(null,e)}function ft(e){return Ce(e),e.headers=O.from(e.headers),e.data=xe.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Kt.getAdapter(e.adapter||ee.adapter)(e).then(function(r){return Ce(e),r.data=xe.call(e,e.transformResponse,r),r.headers=O.from(r.headers),r},function(r){return zt(r)||(Ce(e),r&&r.response&&(r.response.data=xe.call(e,e.transformResponse,r.response),r.response.headers=O.from(r.response.headers))),Promise.reject(r)})}const Gt="1.7.2",$e={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{$e[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const ht={};$e.transitional=function(t,n,r){function o(s,i){return"[Axios v"+Gt+"] Transitional option '"+s+"'"+i+(r?". "+r:"")}return(s,i,a)=>{if(t===!1)throw new m(o(i," has been removed"+(n?" in "+n:"")),m.ERR_DEPRECATED);return n&&!ht[i]&&(ht[i]=!0,console.warn(o(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,i,a):!0}};function Oo(e,t,n){if(typeof e!="object")throw new m("options must be an object",m.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const s=r[o],i=t[s];if(i){const a=e[s],u=a===void 0||i(a,s,e);if(u!==!0)throw new m("option "+s+" must be "+u,m.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new m("Unknown option "+s,m.ERR_BAD_OPTION)}}const Ie={assertOptions:Oo,validators:$e},N=Ie.validators;class U{constructor(t){this.defaults=t,this.interceptors={request:new st,response:new st}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let o;Error.captureStackTrace?Error.captureStackTrace(o={}):o=new Error;const s=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=B(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:s}=n;r!==void 0&&Ie.assertOptions(r,{silentJSONParsing:N.transitional(N.boolean),forcedJSONParsing:N.transitional(N.boolean),clarifyTimeoutError:N.transitional(N.boolean)},!1),o!=null&&(c.isFunction(o)?n.paramsSerializer={serialize:o}:Ie.assertOptions(o,{encode:N.function,serialize:N.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=s&&c.merge(s.common,s[n.method]);s&&c.forEach(["delete","get","head","post","put","patch","common"],f=>{delete s[f]}),n.headers=O.concat(i,s);const a=[];let u=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(u=u&&p.synchronous,a.unshift(p.fulfilled,p.rejected))});const d=[];this.interceptors.response.forEach(function(p){d.push(p.fulfilled,p.rejected)});let l,h=0,y;if(!u){const f=[ft.bind(this),void 0];for(f.unshift.apply(f,a),f.push.apply(f,d),y=f.length,l=Promise.resolve(n);h<y;)l=l.then(f[h++],f[h++]);return l}y=a.length;let w=n;for(h=0;h<y;){const f=a[h++],p=a[h++];try{w=f(w)}catch(E){p.call(this,E);break}}try{l=ft.call(this,w)}catch(f){return Promise.reject(f)}for(h=0,y=d.length;h<y;)l=l.then(d[h++],d[h++]);return l}getUri(t){t=B(this.defaults,t);const n=Wt(t.baseURL,t.url);return Bt(n,t.params,t.paramsSerializer)}}c.forEach(["delete","get","head","options"],function(t){U.prototype[t]=function(n,r){return this.request(B(r||{},{method:t,url:n,data:(r||{}).data}))}});c.forEach(["post","put","patch"],function(t){function n(r){return function(s,i,a){return this.request(B(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}U.prototype[t]=n(),U.prototype[t+"Form"]=n(!0)});class ze{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(o=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](o);r._listeners=null}),this.promise.then=o=>{let s;const i=new Promise(a=>{r.subscribe(a),s=a}).then(o);return i.cancel=function(){r.unsubscribe(s)},i},t(function(s,i,a){r.reason||(r.reason=new W(s,i,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new ze(function(o){t=o}),cancel:t}}}function Ro(e){return function(n){return e.apply(null,n)}}function To(e){return c.isObject(e)&&e.isAxiosError===!0}const ke={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ke).forEach(([e,t])=>{ke[t]=e});function Xt(e){const t=new U(e),n=Tt(U.prototype.request,t);return c.extend(n,U.prototype,t,{allOwnKeys:!0}),c.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return Xt(B(e,o))},n}const S=Xt(ee);S.Axios=U;S.CanceledError=W;S.CancelToken=ze;S.isCancel=zt;S.VERSION=Gt;S.toFormData=me;S.AxiosError=m;S.Cancel=S.CanceledError;S.all=function(t){return Promise.all(t)};S.spread=Ro;S.isAxiosError=To;S.mergeConfig=B;S.AxiosHeaders=O;S.formToJSON=e=>$t(c.isHTMLForm(e)?new FormData(e):e);S.getAdapter=Kt.getAdapter;S.HttpStatusCode=ke;S.default=S;const je=S.create({withCredentials:!0});je.interceptors.response.use(e=>e,e=>Promise.reject(e.response&&e.response.data||"Something went wrong"));function ko(){const{translate:e}=sn(),[t,n]=te.useState(!1),{enqueueSnackbar:r}=an(),{contentId:o}=cn(),s=ln(),[i,a]=te.useState(o==="new"?0:1),u=te.useRef(null);te.useEffect(()=>{if(L.on(o||"-",async y=>{var w,f,p,E,v,x;switch(console.log(y),y.type){case"show_backdrop":n(!0);break;case"hide_backdrop":n(!1);break;case"show_snackbar":r(y.payload.message,{variant:y.payload.variant});break;case"save":console.log("save"),await((w=u.current)==null?void 0:w.save()),console.log("saved"),L.emit("save",{contentId:o}),console.log("emitted");break;case"save_as":const g=await((f=u.current)==null?void 0:f.save());L.emit("save_as",{contentId:(g==null?void 0:g.contentId)||o,file_path:y.payload.file_path});break;case"dialog-export-show":await((p=u.current)==null?void 0:p.save()),L.emit("export_as_scorm",{contentId:o});break;case"export_as_scorm":await((E=u.current)==null?void 0:E.save()),L.emit("export_as_scorm",{contentId:o});break;case"export_as_html":await((v=u.current)==null?void 0:v.save()),L.emit("export_as_html",{contentId:o});break;case"export_as_html_external":await((x=u.current)==null?void 0:x.save()),L.emit("export_as_html_external",{contentId:o});break}}),i===1){const y=document.createElement("script");return y.src="/h5p/core/js/h5p-resizer.js",y.async=!0,document.body.appendChild(y),()=>{document.body.removeChild(y)}}},[i,o,r]);const d=async(y,w)=>{var f;w===1&&await((f=u.current)==null?void 0:f.save()),a(w)},l=async()=>{const{data:y}=await je.get(`/api/v1/content/${o}/edit`);return y.h5p},h=async(y,w)=>{const f=await je.patch(`/api/v1/content/${o}`,w);return console.log("response",f),o==="new"&&(s(`/content/${f.data.contentId}`),console.log("response.data.contentId",f.data.contentId)),f.data};return C.jsxs(fn,{container:!0,spacing:1,sx:{display:{xs:"flex"}},children:[C.jsx(un,{sx:{color:"#fff",zIndex:y=>y.zIndex.drawer+1},open:t,children:C.jsx(vn,{color:"inherit"})}),C.jsx(dn,{style:{margin:"auto",marginTop:"20px",padding:"20px",minWidth:"820px",width:"100%",maxWidth:"1000px"},children:C.jsxs(we,{sx:{borderBottom:1,borderColor:"divider"},children:[C.jsxs(hn,{value:i,onChange:d,children:[C.jsx(We,{id:"contentEditor-editTab",label:e("Edit"),value:0}),C.jsx(We,{id:"contentEditor-viewTab",label:e("View"),value:1})]}),C.jsx(we,{id:"content-editor",sx:{display:i===0?"block":"none"},children:C.jsx(tr,{ref:u,contentId:o||"new",loadContentCallback:l,saveContentCallback:h})}),C.jsx(we,{id:"content-player",children:i===1&&C.jsx("iframe",{title:"content-player",frameBorder:0,src:`/api/v1/content/${o}/render`,style:{width:"100%"}})})]})})]})}export{ko as default};

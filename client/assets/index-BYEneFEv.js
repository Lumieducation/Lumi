import{s as ce,G as de,f as pe,_ as b,H as j,h as L,J as F,K as N,r as P,u as xe,b as ue,L as he,N as je,j as e,d as D,e as ge,O as ve,p as w,x as u,R as l,Q as R,T as ye,z as x,U as fe,V as K,W as be,q as me}from"./index-CP8hpHP7.js";import{r as M,C as m,a as _,B as I,b as Q}from"./createSvgIcon-DB2rQsx9.js";import{C,A as T,d as S}from"./Update-BUVWcTGl.js";import{l as X,d as k,L as o,a as c,b as d,S as Y,c as Z,e as y}from"./LibraryBooks-BotkH36l.js";import{P as _e}from"./page-BcY2vhkJ.js";import{a as J,b as $,L as ee}from"./LoadingButton-DO7FUd-Q.js";import{T as H,c as Ce,I as Te,S as $e,G as Le,a as Pe,b as g}from"./Tabs-Dt60Sp1K.js";import"./createSvgIcon-shvhigSM.js";const Se=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],ke=(t,s)=>{const{ownerState:n}=t;return[s.root,n.dense&&s.dense,n.divider&&s.divider,!n.disableGutters&&s.gutters]},Ie=t=>{const{disabled:s,dense:n,divider:a,disableGutters:i,selected:r,classes:p}=t,h=ge({root:["root",n&&"dense",s&&"disabled",!i&&"gutters",a&&"divider",r&&"selected"]},ve,p);return b({},p,h)},He=ce(de,{shouldForwardProp:t=>pe(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:ke})(({theme:t,ownerState:s})=>b({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!s.disableGutters&&{paddingLeft:16,paddingRight:16},s.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${j.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:L(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${j.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:L(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${j.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:L(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:L(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${j.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${j.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${F.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${F.inset}`]:{marginLeft:52},[`& .${X.root}`]:{marginTop:0,marginBottom:0},[`& .${X.inset}`]:{paddingLeft:36},[`& .${N.root}`]:{minWidth:36}},!s.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},s.dense&&b({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${N.root} svg`]:{fontSize:"1.25rem"}}))),Re=P.forwardRef(function(s,n){const a=xe({props:s,name:"MuiMenuItem"}),{autoFocus:i=!1,component:r="li",dense:p=!1,divider:B=!1,disableGutters:h=!1,focusVisibleClassName:ae,role:re="menuitem",tabIndex:G,className:ne}=a,ie=ue(a,Se),W=P.useContext(J),U=P.useMemo(()=>({dense:p||W.dense||!1,disableGutters:h}),[W.dense,p,h]),V=P.useRef(null);he(()=>{i&&V.current&&V.current.focus()},[i]);const oe=b({},a,{dense:U.dense,divider:B,disableGutters:h}),O=Ie(a),le=je(V,n);let q;return a.disabled||(q=G!==void 0?G:-1),e.jsx(J.Provider,{value:U,children:e.jsx(He,b({ref:le,role:re,tabIndex:q,component:r,focusVisibleClassName:D(O.focusVisible,ae),className:D(O.root,ne)},ie,{ownerState:oe,classes:O}))})});var z={},Ve=w;Object.defineProperty(z,"__esModule",{value:!0});var f=z.default=void 0,Oe=Ve(M()),we=e;f=z.default=(0,Oe.default)((0,we.jsx)("path",{d:"M4.5 11h-2V9H1v6h1.5v-2.5h2V15H6V9H4.5zm2.5-.5h1.5V15H10v-4.5h1.5V9H7zm5.5 0H14V15h1.5v-4.5H17V9h-4.5zm9-1.5H18v6h1.5v-2h2c.8 0 1.5-.7 1.5-1.5v-1c0-.8-.7-1.5-1.5-1.5m0 2.5h-2v-1h2z"}),"Http");function Me(){const{translate:t}=u();return e.jsxs(m,{style:{marginTop:"20px",width:640},children:[e.jsx(C,{avatar:e.jsx(T,{children:e.jsx(k,{})}),title:t("Legal")}),e.jsx(_,{children:e.jsxs($,{sx:{width:"100%",bgcolor:"background.paper"},children:[e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(k,{})}),e.jsx(d,{id:"privacy-policy",primary:t("Privacy Policy"),secondary:t("View the privacy policy of the application.")}),e.jsx(I,{href:"/assets/legal/privacy-policy.html",color:"primary",target:"_blank",children:t("View")})]}),e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(k,{})}),e.jsx(d,{id:"eula",primary:t("EULA"),secondary:t("End User License Agreement for the application.")}),e.jsx(I,{href:"/assets/legal/eula.html",color:"primary",target:"_blank",children:t("View")})]})]})})]})}function ze(){const[t,s]=l.useState(""),[n,a]=l.useState(""),{translate:i}=u();return l.useEffect(()=>{R.get("/api/v1/settings").then(r=>{s(r.body.http_proxy),a(r.body.https_proxy)})},[]),e.jsxs(m,{style:{marginTop:"20px",width:640},children:[e.jsx(C,{avatar:e.jsx(T,{children:e.jsx(f,{})}),title:i("Proxy settings")}),e.jsxs(_,{children:[e.jsxs(ye,{variant:"body2",color:"text.secondary",children:[i("To set the proxy via command line:"),e.jsx("br",{}),e.jsx("code",{children:"Lumi --proxy-server=http://your-proxy-server:port"}),e.jsx("br",{}),e.jsx("br",{}),i("To set the proxy via environment variables (Windows):"),e.jsx("br",{}),e.jsx("code",{children:"set HTTP_PROXY=http://your-proxy-server:port"}),e.jsx("br",{}),e.jsx("code",{children:"set HTTPS_PROXY=http://your-proxy-server:port"}),e.jsx("br",{}),e.jsx("br",{}),i("To set the proxy via environment variables (macOS/Linux):"),e.jsx("br",{}),e.jsx("code",{children:"export HTTP_PROXY=http://your-proxy-server:port"}),e.jsx("br",{}),e.jsx("code",{children:"export HTTPS_PROXY=http://your-proxy-server:port"})]}),e.jsxs($,{sx:{width:"100%",bgcolor:"background.paper"},children:[e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(f,{})}),e.jsx(d,{id:"http_proxy",primary:i("HTTP Proxy"),secondary:i("Set a proxy for HTTP requests."),onClick:()=>{}})]}),e.jsx(o,{children:e.jsx(H,{fullWidth:!0,placeholder:"http://your-proxy-server:port",value:t,onChange:r=>s(r.target.value)})}),e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(f,{})}),e.jsx(d,{id:"https_proxy",primary:i("HTTPS Proxy"),secondary:i("Set a proxy for HTTPS requests.")})]}),e.jsx(o,{children:e.jsx(H,{fullWidth:!0,placeholder:"https://your-proxy-server:port",value:n,onChange:r=>a(r.target.value)})})]})]}),e.jsx(Q,{style:{padding:"20px"},children:e.jsx(ee,{onClick:()=>{x.emit("settings_update",{http_proxy:t,https_proxy:n}),x.emit("relaunch")},style:{marginLeft:"auto"},variant:"contained",color:"primary",children:i("Save & relaunch")})})]})}function Ee(){const[t,s]=l.useState(!1),[n,a]=l.useState(!1),{translate:i}=u();return l.useEffect(()=>{R.get("/api/v1/settings").then(r=>{s(r.body.updates_automatic),a(r.body.prerelease_features)})},[]),e.jsxs(m,{style:{marginTop:"20px",width:640},children:[e.jsx(C,{avatar:e.jsx(T,{children:e.jsx(S,{})}),title:i("Updates")}),e.jsx(_,{children:e.jsxs($,{sx:{width:"100%",bgcolor:"background.paper"},children:[e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(S,{})}),e.jsx(d,{id:"updates_automatic",primary:i("Automatic updates"),secondary:i("I allow this application to automatically check for updates."),onClick:()=>{}}),e.jsx(Y,{edge:"end",checked:t,onClick:()=>{s(!t),x.emit("settings_update",{updates_automatic:!t})}})]}),e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(S,{})}),e.jsx(d,{id:"prerelease_features",primary:i("Prerelease feautures"),secondary:i("Enable experimental features before they are released.")}),e.jsx(Y,{edge:"end",checked:n,onClick:()=>{a(!n),x.emit("settings_update",{prerelease_features:!n})}})]})]})})]})}var E={},Ae=w;Object.defineProperty(E,"__esModule",{value:!0});var te=E.default=void 0,Be=Ae(M()),Ge=e;te=E.default=(0,Be.default)((0,Ge.jsx)("path",{d:"M3 17v2h6v-2zM3 5v2h10V5zm10 16v-2h8v-2h-8v-2h-2v6zM7 9v2H3v2h4v2h2V9zm14 4v-2H11v2zm-6-4h2V7h4V5h-4V3h-2z"}),"Tune");var A={},We=w;Object.defineProperty(A,"__esModule",{value:!0});var se=A.default=void 0,Ue=We(M()),qe=e;se=A.default=(0,Ue.default)((0,qe.jsx)("path",{d:"m12.87 15.07-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"}),"Translate");function Fe(){const{allLangs:t,currentLang:s}=fe(),n=K(),{translate:a,onChangeLang:i}=u();return e.jsxs(m,{style:{marginTop:"20px",width:640},children:[e.jsx(C,{avatar:e.jsx(T,{children:e.jsx(Z,{})}),title:a("General")}),e.jsx(_,{children:e.jsxs($,{sx:{width:"100%",bgcolor:"background.paper"},children:[e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(se,{})}),e.jsx(d,{id:"language",primary:a("Language"),secondary:a("Change the language of the application."),onClick:()=>{}}),e.jsxs(Ce,{fullWidth:!0,children:[e.jsx(Te,{id:"demo-simple-select-label",children:a("Language")}),e.jsx($e,{value:s.value,label:a("Language"),onChange:r=>{x.emit("language_change",{language_code:r.target.value}),i(r.target.value)},children:t.map((r,p)=>e.jsx(Re,{value:r.value,children:r.label},`lang-${r}-${p}`))})]})]}),e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(te,{})}),e.jsx(d,{id:"appearance",primary:a("Appearance"),secondary:a("Change the appearance of the application."),onClick:()=>{}}),e.jsx(I,{onClick:()=>n.onToggle(),children:a("Appearance")})]})]})})]})}function Ne(){const{translate:t}=u();l.useEffect(()=>{R.get("/api/v1/settings").then(r=>{n(r.body.hub_content_types_endpoint),i(r.body.hub_registration_endpoint)})},[]);const[s,n]=l.useState(""),[a,i]=l.useState("");return e.jsxs(m,{style:{marginTop:"20px",width:640},children:[e.jsx(C,{avatar:e.jsx(T,{children:e.jsx(y,{})}),title:t("Libraries")}),e.jsx(_,{children:e.jsxs($,{sx:{width:"100%",bgcolor:"background.paper"},children:[e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(y,{})}),e.jsx(d,{id:"privacy-policy",primary:t("Install default libraries"),secondary:t("This will install the default libraries for the application.")}),e.jsx(I,{onClick:()=>{x.emit("libraries_install")},children:t("Install")})]}),e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(y,{})}),e.jsx(d,{id:"hub_content_types_endpoint",primary:t("Content Types Hub Endpoint"),secondary:t("The endpoint to fetch content types from.")})]}),e.jsx(o,{children:e.jsx(H,{fullWidth:!0,value:s,onChange:r=>n(r.target.value)})}),e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(y,{})}),e.jsx(d,{id:"hub_registration_endpoint",primary:t("Hub Registration Endpoint"),secondary:t("The endpoint to register the application.")})]}),e.jsx(o,{children:e.jsx(H,{fullWidth:!0,value:a,onChange:r=>i(r.target.value)})})]})}),e.jsx(Q,{style:{padding:"20px"},children:e.jsx(ee,{onClick:()=>{x.emit("settings_update",{hub_content_types_endpoint:s,hub_registration_endpoint:a}),x.emit("relaunch")},style:{marginLeft:"auto"},variant:"contained",color:"primary",children:t("Save & relaunch")})})]})}function v(t){const{children:s,value:n,index:a,...i}=t;return e.jsx("div",{role:"tabpanel",hidden:n!==a,id:`vertical-tabpanel-${a}`,"aria-labelledby":`vertical-tab-${a}`,...i,children:n===a&&e.jsx(me,{sx:{p:3},children:s})})}function tt(){const{themeStretch:t}=K(),{translate:s}=u();l.useEffect(()=>{R.get("/api/v1/settings").then(r=>{console.log(r.body)})},[]);const[n,a]=l.useState(0),i=(r,p)=>{a(p)};return e.jsx(_e,{title:`${s("Settings")} | Lumi`,children:e.jsx(be,{maxWidth:t?!1:"lg",children:e.jsxs(Le,{container:!0,spacing:1,sx:{display:{xs:"flex"}},children:[e.jsxs(Pe,{orientation:"vertical",value:n,onChange:i,sx:{borderRight:1,borderColor:"divider",alignItems:"flex-start"},children:[e.jsx(g,{label:s("General"),icon:e.jsx(Z,{}),iconPosition:"start",sx:{justifyContent:"flex-start",textAlign:"left"}}),e.jsx(g,{label:s("Legal"),icon:e.jsx(k,{}),iconPosition:"start",sx:{justifyContent:"flex-start",textAlign:"left"}}),e.jsx(g,{label:s("Updates"),icon:e.jsx(S,{}),iconPosition:"start",sx:{justifyContent:"flex-start",textAlign:"left"}}),e.jsx(g,{label:s("Libraries"),icon:e.jsx(y,{}),iconPosition:"start",sx:{justifyContent:"flex-start",textAlign:"left"}}),e.jsx(g,{label:s("Proxy"),icon:e.jsx(f,{}),iconPosition:"start",sx:{justifyContent:"flex-start",textAlign:"left"}})]}),e.jsx(v,{value:n,index:0,children:e.jsx(Fe,{})}),e.jsx(v,{value:n,index:1,children:e.jsx(Me,{})}),e.jsx(v,{value:n,index:2,children:e.jsx(Ee,{})}),e.jsx(v,{value:n,index:3,children:e.jsx(Ne,{})}),e.jsx(v,{value:n,index:4,children:e.jsx(ze,{})})]})})})}export{tt as default};

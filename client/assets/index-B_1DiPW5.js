import{s as de,G as ce,f as pe,_ as $,H as m,h as P,J as F,K as D,r as S,u as xe,b as ue,L as he,N as je,j as e,d as X,e as ge,O as ve,p as O,x as u,R as l,Q as L,T as ye,z as x,U as fe,V as Q,W as be,q as me}from"./index-ENH5DGLJ.js";import{r as M,C as j,a as g,B as V,b as z}from"./createSvgIcon-yGa7PBP7.js";import{C as v,A as y,d as k}from"./Update-CwGRDqij.js";import{l as Y,d as I,L as o,a as c,b as d,S as J,c as Z,e as h}from"./LibraryBooks-CS1UiANx.js";import{P as _e}from"./page-i5-OaMzB.js";import{a as K,b as f,L as ee}from"./LoadingButton-BECEwvc5.js";import{T as H,c as Ce,I as Te,S as $e,G as Le,a as Pe,b as _}from"./Tabs-B40K8pIP.js";import"./createSvgIcon-_WrVPxIL.js";const Se=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],ke=(t,a)=>{const{ownerState:r}=t;return[a.root,r.dense&&a.dense,r.divider&&a.divider,!r.disableGutters&&a.gutters]},Ie=t=>{const{disabled:a,dense:r,divider:s,disableGutters:n,selected:i,classes:p}=t,b=ge({root:["root",r&&"dense",a&&"disabled",!n&&"gutters",s&&"divider",i&&"selected"]},ve,p);return $({},p,b)},Ve=de(ce,{shouldForwardProp:t=>pe(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:ke})(({theme:t,ownerState:a})=>$({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!a.disableGutters&&{paddingLeft:16,paddingRight:16},a.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${m.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:P(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${m.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:P(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${m.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:P(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:P(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${m.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${m.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${F.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${F.inset}`]:{marginLeft:52},[`& .${Y.root}`]:{marginTop:0,marginBottom:0},[`& .${Y.inset}`]:{paddingLeft:36},[`& .${D.root}`]:{minWidth:36}},!a.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},a.dense&&$({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${D.root} svg`]:{fontSize:"1.25rem"}}))),He=S.forwardRef(function(a,r){const s=xe({props:a,name:"MuiMenuItem"}),{autoFocus:n=!1,component:i="li",dense:p=!1,divider:G=!1,disableGutters:b=!1,focusVisibleClassName:ae,role:re="menuitem",tabIndex:W,className:ie}=s,ne=ue(s,Se),N=S.useContext(K),U=S.useMemo(()=>({dense:p||N.dense||!1,disableGutters:b}),[N.dense,p,b]),R=S.useRef(null);he(()=>{n&&R.current&&R.current.focus()},[n]);const oe=$({},s,{dense:U.dense,divider:G,disableGutters:b}),w=Ie(s),le=je(R,r);let q;return s.disabled||(q=W!==void 0?W:-1),e.jsx(K.Provider,{value:U,children:e.jsx(Ve,$({ref:le,role:re,tabIndex:q,component:i,focusVisibleClassName:X(w.focusVisible,ae),className:X(w.root,ie)},ne,{ownerState:oe,classes:w}))})});var E={},Re=O;Object.defineProperty(E,"__esModule",{value:!0});var T=E.default=void 0,we=Re(M()),Oe=e;T=E.default=(0,we.default)((0,Oe.jsx)("path",{d:"M4.5 11h-2V9H1v6h1.5v-2.5h2V15H6V9H4.5zm2.5-.5h1.5V15H10v-4.5h1.5V9H7zm5.5 0H14V15h1.5v-4.5H17V9h-4.5zm9-1.5H18v6h1.5v-2h2c.8 0 1.5-.7 1.5-1.5v-1c0-.8-.7-1.5-1.5-1.5m0 2.5h-2v-1h2z"}),"Http");function Me(){const{translate:t}=u();return e.jsxs(j,{style:{marginTop:"20px",width:640},children:[e.jsx(v,{avatar:e.jsx(y,{children:e.jsx(I,{})}),title:t("Legal")}),e.jsx(g,{children:e.jsxs(f,{sx:{width:"100%",bgcolor:"background.paper"},children:[e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(I,{})}),e.jsx(d,{id:"privacy-policy",primary:t("Privacy Policy"),secondary:t("View the privacy policy of the application.")}),e.jsx(V,{href:"/assets/legal/privacy-policy.html",color:"primary",target:"_blank",children:t("View")})]}),e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(I,{})}),e.jsx(d,{id:"eula",primary:t("EULA"),secondary:t("End User License Agreement for the application.")}),e.jsx(V,{href:"/assets/legal/eula.html",color:"primary",target:"_blank",children:t("View")})]})]})})]})}function ze(){const[t,a]=l.useState(""),[r,s]=l.useState(""),{translate:n}=u();return l.useEffect(()=>{L.get("/api/v1/settings").then(i=>{a(i.body.http_proxy),s(i.body.https_proxy)})},[]),e.jsxs(j,{style:{marginTop:"20px",width:640},children:[e.jsx(v,{avatar:e.jsx(y,{children:e.jsx(T,{})}),title:n("Proxy settings")}),e.jsxs(g,{children:[e.jsxs(ye,{variant:"body2",color:"text.secondary",children:[n("To set the proxy via command line:"),e.jsx("br",{}),e.jsx("code",{children:"Lumi --proxy-server=http://your-proxy-server:port"}),e.jsx("br",{}),e.jsx("br",{}),n("To set the proxy via environment variables (Windows):"),e.jsx("br",{}),e.jsx("code",{children:"set HTTP_PROXY=http://your-proxy-server:port"}),e.jsx("br",{}),e.jsx("code",{children:"set HTTPS_PROXY=http://your-proxy-server:port"}),e.jsx("br",{}),e.jsx("br",{}),n("To set the proxy via environment variables (macOS/Linux):"),e.jsx("br",{}),e.jsx("code",{children:"export HTTP_PROXY=http://your-proxy-server:port"}),e.jsx("br",{}),e.jsx("code",{children:"export HTTPS_PROXY=http://your-proxy-server:port"})]}),e.jsxs(f,{sx:{width:"100%",bgcolor:"background.paper"},children:[e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(T,{})}),e.jsx(d,{id:"http_proxy",primary:n("HTTP Proxy"),secondary:n("Set a proxy for HTTP requests."),onClick:()=>{}})]}),e.jsx(o,{children:e.jsx(H,{fullWidth:!0,placeholder:"http://your-proxy-server:port",value:t,onChange:i=>a(i.target.value)})}),e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(T,{})}),e.jsx(d,{id:"https_proxy",primary:n("HTTPS Proxy"),secondary:n("Set a proxy for HTTPS requests.")})]}),e.jsx(o,{children:e.jsx(H,{fullWidth:!0,placeholder:"https://your-proxy-server:port",value:r,onChange:i=>s(i.target.value)})})]})]}),e.jsx(z,{style:{padding:"20px"},children:e.jsx(ee,{onClick:()=>{x.emit("settings_update",{http_proxy:t,https_proxy:r}),x.emit("relaunch")},style:{marginLeft:"auto"},variant:"contained",color:"primary",children:n("Save & relaunch")})})]})}function Ee(){const[t,a]=l.useState(!1),[r,s]=l.useState(!1),{translate:n}=u();return l.useEffect(()=>{L.get("/api/v1/settings").then(i=>{a(i.body.updates_automatic),s(i.body.prerelease_features)})},[]),e.jsxs(j,{style:{marginTop:"20px",width:640},children:[e.jsx(v,{avatar:e.jsx(y,{children:e.jsx(k,{})}),title:n("Updates")}),e.jsx(g,{children:e.jsxs(f,{sx:{width:"100%",bgcolor:"background.paper"},children:[e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(k,{})}),e.jsx(d,{id:"updates_automatic",primary:n("Automatic updates"),secondary:n("I allow this application to automatically check for updates."),onClick:()=>{}}),e.jsx(J,{edge:"end",checked:t,onClick:()=>{a(!t),x.emit("settings_update",{updates_automatic:!t})}})]}),e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(k,{})}),e.jsx(d,{id:"prerelease_features",primary:n("Prerelease feautures"),secondary:n("Enable experimental features before they are released.")}),e.jsx(J,{edge:"end",checked:r,onClick:()=>{s(!r),x.emit("settings_update",{prerelease_features:!r})}})]})]})})]})}var A={},Ae=O;Object.defineProperty(A,"__esModule",{value:!0});var te=A.default=void 0,Be=Ae(M()),Ge=e;te=A.default=(0,Be.default)((0,Ge.jsx)("path",{d:"M3 17v2h6v-2zM3 5v2h10V5zm10 16v-2h8v-2h-8v-2h-2v6zM7 9v2H3v2h4v2h2V9zm14 4v-2H11v2zm-6-4h2V7h4V5h-4V3h-2z"}),"Tune");var B={},We=O;Object.defineProperty(B,"__esModule",{value:!0});var se=B.default=void 0,Ne=We(M()),Ue=e;se=B.default=(0,Ne.default)((0,Ue.jsx)("path",{d:"m12.87 15.07-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"}),"Translate");function qe(){const{allLangs:t,currentLang:a}=fe(),r=Q(),{translate:s,onChangeLang:n}=u();return e.jsxs(j,{style:{marginTop:"20px",width:640},children:[e.jsx(v,{avatar:e.jsx(y,{children:e.jsx(Z,{})}),title:s("General")}),e.jsx(g,{children:e.jsxs(f,{sx:{width:"100%",bgcolor:"background.paper"},children:[e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(se,{})}),e.jsx(d,{id:"language",primary:s("Language"),secondary:s("Change the language of the application."),onClick:()=>{}}),e.jsxs(Ce,{fullWidth:!0,children:[e.jsx(Te,{id:"demo-simple-select-label",children:s("Language")}),e.jsx($e,{value:a.value,label:s("Language"),onChange:i=>{x.emit("language_change",{language_code:i.target.value}),n(i.target.value)},children:t.map((i,p)=>e.jsx(He,{value:i.value,children:i.label},`lang-${i}-${p}`))})]})]}),e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(te,{})}),e.jsx(d,{id:"appearance",primary:s("Appearance"),secondary:s("Change the appearance of the application."),onClick:()=>{}}),e.jsx(V,{onClick:()=>r.onToggle(),children:s("Appearance")})]})]})})]})}function Fe(){const{translate:t}=u();l.useEffect(()=>{L.get("/api/v1/libraries").then(s=>{console.log(s),r(s.body)})},[]);const[a,r]=l.useState([]);return e.jsxs(j,{style:{marginTop:"20px",width:640},children:[e.jsx(v,{avatar:e.jsx(y,{children:e.jsx(h,{})}),title:t("Installed libraries")}),e.jsx(g,{children:e.jsx(f,{sx:{width:"100%",bgcolor:"background.paper"},children:a.map(s=>e.jsx(o,{children:e.jsx(d,{primary:s.title,secondary:`${s.machineName}-${s.majorVersion}.${s.minorVersion}.${s.patchVersion}`})},`${s.machineName}-${s.majorVersion}.${s.minorVersion}.${s.patchVersion}`))})}),e.jsx(z,{style:{padding:"20px"}})]})}function De(){const{translate:t}=u();l.useEffect(()=>{L.get("/api/v1/settings").then(i=>{r(i.body.hub_content_types_endpoint),n(i.body.hub_registration_endpoint)})},[]);const[a,r]=l.useState(""),[s,n]=l.useState("");return e.jsxs(e.Fragment,{children:[e.jsxs(j,{style:{marginTop:"20px",width:640},children:[e.jsx(v,{avatar:e.jsx(y,{children:e.jsx(h,{})}),title:t("Libraries")}),e.jsx(g,{children:e.jsxs(f,{sx:{width:"100%",bgcolor:"background.paper"},children:[e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(h,{})}),e.jsx(d,{id:"privacy-policy",primary:t("Install default libraries"),secondary:t("This will install the default libraries for the application.")}),e.jsx(V,{onClick:()=>{x.emit("libraries_install")},children:t("Install")})]}),e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(h,{})}),e.jsx(d,{id:"hub_content_types_endpoint",primary:t("Content Types Hub Endpoint"),secondary:t("The endpoint to fetch content types from.")})]}),e.jsx(o,{children:e.jsx(H,{fullWidth:!0,value:a,onChange:i=>r(i.target.value)})}),e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(h,{})}),e.jsx(d,{id:"hub_registration_endpoint",primary:t("Hub Registration Endpoint"),secondary:t("The endpoint to register the application.")})]}),e.jsx(o,{children:e.jsx(H,{fullWidth:!0,value:s,onChange:i=>n(i.target.value)})})]})}),e.jsx(z,{style:{padding:"20px"},children:e.jsx(ee,{onClick:()=>{x.emit("settings_update",{hub_content_types_endpoint:a,hub_registration_endpoint:s}),x.emit("relaunch")},style:{marginLeft:"auto"},variant:"contained",color:"primary",children:t("Save & relaunch")})})]}),e.jsx(Fe,{})]})}function C(t){const{children:a,value:r,index:s,...n}=t;return e.jsx("div",{role:"tabpanel",hidden:r!==s,id:`vertical-tabpanel-${s}`,"aria-labelledby":`vertical-tab-${s}`,...n,children:r===s&&e.jsx(me,{sx:{p:3},children:a})})}function st(){const{themeStretch:t}=Q(),{translate:a}=u();l.useEffect(()=>{L.get("/api/v1/settings").then(i=>{console.log(i.body)})},[]);const[r,s]=l.useState(0),n=(i,p)=>{s(p)};return e.jsx(_e,{title:`${a("Settings")} | Lumi`,children:e.jsx(be,{maxWidth:t?!1:"lg",children:e.jsxs(Le,{container:!0,spacing:1,sx:{display:{xs:"flex"}},children:[e.jsxs(Pe,{orientation:"vertical",value:r,onChange:n,sx:{borderRight:1,borderColor:"divider",alignItems:"flex-start"},children:[e.jsx(_,{label:a("General"),icon:e.jsx(Z,{}),iconPosition:"start",sx:{justifyContent:"flex-start",textAlign:"left"}}),e.jsx(_,{label:a("Legal"),icon:e.jsx(I,{}),iconPosition:"start",sx:{justifyContent:"flex-start",textAlign:"left"}}),e.jsx(_,{label:a("Updates"),icon:e.jsx(k,{}),iconPosition:"start",sx:{justifyContent:"flex-start",textAlign:"left"}}),e.jsx(_,{label:a("Libraries"),icon:e.jsx(h,{}),iconPosition:"start",sx:{justifyContent:"flex-start",textAlign:"left"}}),e.jsx(_,{label:a("Proxy"),icon:e.jsx(T,{}),iconPosition:"start",sx:{justifyContent:"flex-start",textAlign:"left"}})]}),e.jsx(C,{value:r,index:0,children:e.jsx(qe,{})}),e.jsx(C,{value:r,index:1,children:e.jsx(Me,{})}),e.jsx(C,{value:r,index:2,children:e.jsx(Ee,{})}),e.jsx(C,{value:r,index:3,children:e.jsx(De,{})}),e.jsx(C,{value:r,index:4,children:e.jsx(ze,{})})]})})})}export{st as default};

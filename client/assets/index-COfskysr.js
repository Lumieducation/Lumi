import{s as oe,G as le,f as ce,_ as y,H as j,h as $,J as W,K as F,r as P,u as de,b as pe,L as xe,N as ue,j as e,d as N,e as he,O as je,p as R,x as u,R as p,Q as O,T as ve,z as x,U as ge,V as K,W as fe,q as ye}from"./index-kA2p6aeN.js";import{r as w,C as b,a as m,B as I,b as be}from"./createSvgIcon-Befzlb8d.js";import{C,A as _,d as L}from"./Update-BrXoi-uj.js";import{l as D,d as S,L as o,a as c,b as d,S as X,c as Q,e as V}from"./LibraryBooks-pNl7Q4t_.js";import{P as me}from"./page-S1J9oXkU.js";import{a as Y,b as T,L as Ce}from"./LoadingButton-DRQJ1ELA.js";import{T as J,c as _e,I as Te,S as $e,G as Pe,a as Le,b as v}from"./Tabs-VbVXUzYY.js";import"./createSvgIcon-g_sWW0Y6.js";const Se=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],Ie=(t,a)=>{const{ownerState:r}=t;return[a.root,r.dense&&a.dense,r.divider&&a.divider,!r.disableGutters&&a.gutters]},ke=t=>{const{disabled:a,dense:r,divider:s,disableGutters:i,selected:n,classes:l}=t,h=he({root:["root",r&&"dense",a&&"disabled",!i&&"gutters",s&&"divider",n&&"selected"]},je,l);return y({},l,h)},He=oe(le,{shouldForwardProp:t=>ce(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Ie})(({theme:t,ownerState:a})=>y({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!a.disableGutters&&{paddingLeft:16,paddingRight:16},a.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${j.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:$(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${j.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:$(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${j.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:$(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:$(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${j.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${j.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${W.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${W.inset}`]:{marginLeft:52},[`& .${D.root}`]:{marginTop:0,marginBottom:0},[`& .${D.inset}`]:{paddingLeft:36},[`& .${F.root}`]:{minWidth:36}},!a.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},a.dense&&y({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${F.root} svg`]:{fontSize:"1.25rem"}}))),Ve=P.forwardRef(function(a,r){const s=de({props:a,name:"MuiMenuItem"}),{autoFocus:i=!1,component:n="li",dense:l=!1,divider:B=!1,disableGutters:h=!1,focusVisibleClassName:te,role:ae="menuitem",tabIndex:E,className:se}=s,re=pe(s,Se),G=P.useContext(Y),U=P.useMemo(()=>({dense:l||G.dense||!1,disableGutters:h}),[G.dense,l,h]),k=P.useRef(null);xe(()=>{i&&k.current&&k.current.focus()},[i]);const ie=y({},s,{dense:U.dense,divider:B,disableGutters:h}),H=ke(s),ne=ue(k,r);let q;return s.disabled||(q=E!==void 0?E:-1),e.jsx(Y.Provider,{value:U,children:e.jsx(He,y({ref:ne,role:ae,tabIndex:q,component:n,focusVisibleClassName:N(H.focusVisible,te),className:N(H.root,se)},re,{ownerState:ie,classes:H}))})});var M={},Re=R;Object.defineProperty(M,"__esModule",{value:!0});var f=M.default=void 0,Oe=Re(w()),we=e;f=M.default=(0,Oe.default)((0,we.jsx)("path",{d:"M4.5 11h-2V9H1v6h1.5v-2.5h2V15H6V9H4.5zm2.5-.5h1.5V15H10v-4.5h1.5V9H7zm5.5 0H14V15h1.5v-4.5H17V9h-4.5zm9-1.5H18v6h1.5v-2h2c.8 0 1.5-.7 1.5-1.5v-1c0-.8-.7-1.5-1.5-1.5m0 2.5h-2v-1h2z"}),"Http");function Me(){const{translate:t}=u();return e.jsxs(b,{style:{marginTop:"20px",width:640},children:[e.jsx(C,{avatar:e.jsx(_,{children:e.jsx(S,{})}),title:t("Legal")}),e.jsx(m,{children:e.jsxs(T,{sx:{width:"100%",bgcolor:"background.paper"},children:[e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(S,{})}),e.jsx(d,{id:"privacy-policy",primary:t("Privacy Policy"),secondary:t("View the privacy policy of the application.")}),e.jsx(I,{href:"/assets/legal/privacy-policy.html",color:"primary",target:"_blank",children:t("View")})]}),e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(S,{})}),e.jsx(d,{id:"eula",primary:t("EULA"),secondary:t("End User License Agreement for the application.")}),e.jsx(I,{href:"/assets/legal/eula.html",color:"primary",target:"_blank",children:t("View")})]})]})})]})}function ze(){const[t,a]=p.useState(""),[r,s]=p.useState(""),{translate:i}=u();return p.useEffect(()=>{O.get("/api/v1/settings").then(n=>{a(n.body.http_proxy),s(n.body.https_proxy)})},[]),e.jsxs(b,{style:{marginTop:"20px",width:640},children:[e.jsx(C,{avatar:e.jsx(_,{children:e.jsx(f,{})}),title:i("Proxy settings")}),e.jsxs(m,{children:[e.jsxs(ve,{variant:"body2",color:"text.secondary",children:[i("To set the proxy via command line:"),e.jsx("br",{}),e.jsx("code",{children:"Lumi --proxy-server=http://your-proxy-server:port"}),e.jsx("br",{}),e.jsx("br",{}),i("To set the proxy via environment variables (Windows):"),e.jsx("br",{}),e.jsx("code",{children:"set HTTP_PROXY=http://your-proxy-server:port"}),e.jsx("br",{}),e.jsx("code",{children:"set HTTPS_PROXY=http://your-proxy-server:port"}),e.jsx("br",{}),e.jsx("br",{}),i("To set the proxy via environment variables (macOS/Linux):"),e.jsx("br",{}),e.jsx("code",{children:"export HTTP_PROXY=http://your-proxy-server:port"}),e.jsx("br",{}),e.jsx("code",{children:"export HTTPS_PROXY=http://your-proxy-server:port"})]}),e.jsxs(T,{sx:{width:"100%",bgcolor:"background.paper"},children:[e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(f,{})}),e.jsx(d,{id:"http_proxy",primary:i("HTTP Proxy"),secondary:i("Set a proxy for HTTP requests."),onClick:()=>{}})]}),e.jsx(o,{children:e.jsx(J,{fullWidth:!0,placeholder:"http://your-proxy-server:port",value:t,onChange:n=>a(n.target.value)})}),e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(f,{})}),e.jsx(d,{id:"https_proxy",primary:i("HTTPS Proxy"),secondary:i("Set a proxy for HTTPS requests.")})]}),e.jsx(o,{children:e.jsx(J,{fullWidth:!0,placeholder:"https://your-proxy-server:port",value:r,onChange:n=>s(n.target.value)})})]})]}),e.jsx(be,{style:{padding:"20px"},children:e.jsx(Ce,{onClick:()=>{x.emit("settings_update",{http_proxy:t,https_proxy:r}),x.emit("relaunch")},style:{marginLeft:"auto"},variant:"contained",color:"primary",children:i("Save & relaunch")})})]})}function Ae(){const[t,a]=p.useState(!1),[r,s]=p.useState(!1),{translate:i}=u();return p.useEffect(()=>{O.get("/api/v1/settings").then(n=>{a(n.body.updates_automatic),s(n.body.prerelease_features)})},[]),e.jsxs(b,{style:{marginTop:"20px",width:640},children:[e.jsx(C,{avatar:e.jsx(_,{children:e.jsx(L,{})}),title:i("Updates")}),e.jsx(m,{children:e.jsxs(T,{sx:{width:"100%",bgcolor:"background.paper"},children:[e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(L,{})}),e.jsx(d,{id:"updates_automatic",primary:i("Automatic updates"),secondary:i("I allow this application to automatically check for updates."),onClick:()=>{}}),e.jsx(X,{edge:"end",checked:t,onClick:()=>{a(!t),x.emit("settings_update",{updates_automatic:!t})}})]}),e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(L,{})}),e.jsx(d,{id:"prerelease_features",primary:i("Prerelease feautures"),secondary:i("Enable experimental features before they are released.")}),e.jsx(X,{edge:"end",checked:r,onClick:()=>{s(!r),x.emit("settings_update",{prerelease_features:!r})}})]})]})})]})}var z={},Be=R;Object.defineProperty(z,"__esModule",{value:!0});var Z=z.default=void 0,Ee=Be(w()),Ge=e;Z=z.default=(0,Ee.default)((0,Ge.jsx)("path",{d:"M3 17v2h6v-2zM3 5v2h10V5zm10 16v-2h8v-2h-8v-2h-2v6zM7 9v2H3v2h4v2h2V9zm14 4v-2H11v2zm-6-4h2V7h4V5h-4V3h-2z"}),"Tune");var A={},Ue=R;Object.defineProperty(A,"__esModule",{value:!0});var ee=A.default=void 0,qe=Ue(w()),We=e;ee=A.default=(0,qe.default)((0,We.jsx)("path",{d:"m12.87 15.07-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"}),"Translate");function Fe(){const{allLangs:t,currentLang:a}=ge(),r=K(),{translate:s,onChangeLang:i}=u();return e.jsxs(b,{style:{marginTop:"20px",width:640},children:[e.jsx(C,{avatar:e.jsx(_,{children:e.jsx(Q,{})}),title:s("General")}),e.jsx(m,{children:e.jsxs(T,{sx:{width:"100%",bgcolor:"background.paper"},children:[e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(ee,{})}),e.jsx(d,{id:"language",primary:s("Language"),secondary:s("Change the language of the application."),onClick:()=>{}}),e.jsxs(_e,{fullWidth:!0,children:[e.jsx(Te,{id:"demo-simple-select-label",children:s("Language")}),e.jsx($e,{value:a.value,label:s("Language"),onChange:n=>{x.emit("language_change",{language_code:n.target.value}),i(n.target.value)},children:t.map((n,l)=>e.jsx(Ve,{value:n.value,children:n.label},`lang-${n}-${l}`))})]})]}),e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(Z,{})}),e.jsx(d,{id:"appearance",primary:s("Appearance"),secondary:s("Change the appearance of the application."),onClick:()=>{}}),e.jsx(I,{onClick:()=>r.onToggle(),children:s("Appearance")})]})]})})]})}function Ne(){const{translate:t}=u();return e.jsxs(b,{style:{marginTop:"20px",width:640},children:[e.jsx(C,{avatar:e.jsx(_,{children:e.jsx(V,{})}),title:t("Libraries")}),e.jsx(m,{children:e.jsx(T,{sx:{width:"100%",bgcolor:"background.paper"},children:e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(V,{})}),e.jsx(d,{id:"privacy-policy",primary:t("Install default libraries"),secondary:t("This will install the default libraries for the application.")}),e.jsx(I,{onClick:()=>{x.emit("libraries_install")},children:t("Install")})]})})})]})}function g(t){const{children:a,value:r,index:s,...i}=t;return e.jsx("div",{role:"tabpanel",hidden:r!==s,id:`vertical-tabpanel-${s}`,"aria-labelledby":`vertical-tab-${s}`,...i,children:r===s&&e.jsx(ye,{sx:{p:3},children:a})})}function tt(){const{themeStretch:t}=K(),{translate:a}=u();p.useEffect(()=>{O.get("/api/v1/settings").then(n=>{console.log(n.body)})},[]);const[r,s]=p.useState(0),i=(n,l)=>{s(l)};return e.jsx(me,{title:`${a("Settings")} | Lumi`,children:e.jsx(fe,{maxWidth:t?!1:"lg",children:e.jsxs(Pe,{container:!0,spacing:1,sx:{display:{xs:"flex"}},children:[e.jsxs(Le,{orientation:"vertical",value:r,onChange:i,sx:{borderRight:1,borderColor:"divider",alignItems:"flex-start"},children:[e.jsx(v,{label:a("General"),icon:e.jsx(Q,{}),iconPosition:"start",sx:{justifyContent:"flex-start",textAlign:"left"}}),e.jsx(v,{label:a("Legal"),icon:e.jsx(S,{}),iconPosition:"start",sx:{justifyContent:"flex-start",textAlign:"left"}}),e.jsx(v,{label:a("Updates"),icon:e.jsx(L,{}),iconPosition:"start",sx:{justifyContent:"flex-start",textAlign:"left"}}),e.jsx(v,{label:a("Libraries"),icon:e.jsx(V,{}),iconPosition:"start",sx:{justifyContent:"flex-start",textAlign:"left"}}),e.jsx(v,{label:a("Proxy"),icon:e.jsx(f,{}),iconPosition:"start",sx:{justifyContent:"flex-start",textAlign:"left"}})]}),e.jsx(g,{value:r,index:0,children:e.jsx(Fe,{})}),e.jsx(g,{value:r,index:1,children:e.jsx(Me,{})}),e.jsx(g,{value:r,index:2,children:e.jsx(Ae,{})}),e.jsx(g,{value:r,index:3,children:e.jsx(Ne,{})}),e.jsx(g,{value:r,index:4,children:e.jsx(ze,{})})]})})})}export{tt as default};
